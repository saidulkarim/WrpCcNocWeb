@using static WrpCcNocWeb.ViewModels.GeneralInfo
@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    var language = HttpContextAccessor.HttpContext.Request.Cookies["FormLanguage"].ToString();
}

<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-body">
                <h4 class="header-title mb-3">
                    <b>@ViewBag.ProjectTitle</b>
                    <button id="btnGoBack" type="button" class="btn btn-secondary float-right" style="margin-top: -10px;">Back</button>
                </h4>

                <div id="basicwizard">
                    <ul class="nav nav-pills bg-light nav-justified form-wizard-header">
                        <li class="nav-item">
                            <a id="lnkTab1" href="#basictab1" data-toggle="tab" class="nav-link rounded-0 pt-2 pb-2 active">
                                <i class="mdi mdi-format-float-right mr-1"></i>
                                <span class="d-none d-sm-inline">
                                    @if (language == "1")
                                    {
                                        <span>আবেদন পত্র</span>
                                    }
                                    else
                                    {
                                        <span>Application Form</span>
                                    }
                                </span>
                            </a>
                        </li>
                        @*<li class="nav-item">
                                <a id="lnkTab2" href="#basictab2" data-toggle="tab" class="nav-link rounded-0 pt-2 pb-2">
                                    <i class="mdi mdi-face-profile mr-1"></i>
                                    <span class="d-none d-sm-inline">
                                        @if (language == "1")
                                        {
                                            <span>প্রিভিউ</span>
                                        }
                                        else
                                        {
                                            <span>Preview</span>
                                        }
                                    </span>
                                </a>
                            </li>*@
                    </ul>

                    <div class="tab-content b-0 mb-0">
                        <div class="tab-pane active" id="basictab1">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="card-box">
                                        <div class="row">
                                            @Html.Hidden("ProjectId")
                                            @Html.Hidden("AppSubmissionId")
                                            @Html.Hidden("ApplicationStateId")
                                            @Html.Hidden("ApprovalStatusId")
                                            @Html.Hidden("Project312IndvId")
                                            @Html.Hidden("UserId")

                                            <input id="ProjectTypeId" type="hidden" value="@ViewBag.ProjectTypeId" />

                                            <div class="col-sm-3">
                                                @{ Html.RenderPartial("form/_1TabPanel"); }

                                            </div> <!-- end col-->
                                            <div class="col-sm-9">
                                                <div class="tab-content pt-0">
                                                    <div class="tab-pane fade active show" id="v-gen-info" role="tabpanel" aria-labelledby="v-gen-info-tab">
                                                        <form id="frmGeneralInfo">
                                                            <div class="card-box">
                                                                @{ Html.RenderPartial("form/_2GeneralInfo"); }
                                                            </div>
                                                        </form>
                                                    </div>

                                                    <div class="tab-pane fade" id="v-project-location" role="tabpanel" aria-labelledby="v-project-location-tab">
                                                        <div class="card-box">
                                                            @{ Html.RenderPartial("form/_3Location"); }
                                                        </div>
                                                    </div>

                                                    <div class="tab-pane fade" id="v-tech-info" role="tabpanel" aria-labelledby="v-tech-info-tab">
                                                        <form id="frmTechnicalInfo">
                                                            <div class="card-box">
                                                                <div id="tech-info-form">
                                                                    <div class="card">
                                                                        <div class="card-header bg-blue py-3 text-white cursor" data-toggle="collapse" href="#cardCollpase31">
                                                                            <div class="card-widgets">
                                                                                <a data-toggle="collapse" href="#cardCollpase31" role="button" aria-expanded="false" aria-controls="cardCollpase2"><i class="mdi mdi-minus"></i></a>
                                                                            </div>
                                                                            <h5 class="card-title mb-0 text-white">
                                                                                @if (language == "1")
                                                                                {
                                                                                    <span>১. বেজলাইন সম্পর্কিত তথ্য বা অবস্থা পর্যালোচনা</span>}
                                                                                else
                                                                                {
                                                                                    <span>1. Discussion about baseline related information or situation</span>}
                                                                            </h5>
                                                                        </div>
                                                                    </div>
                                                                    <div id="cardCollpase31" class="collapse show">
                                                                        <div class="card-body">
                                                                            <div class="form-group">
                                                                                <label for="WellDescription">
                                                                                    @{if (language == "1")
                                                                                        { <span>i. নলকূপের বিবরণ</span> }
                                                                                        else
                                                                                        { <span>i. Well Description</span> }
                                                                                    }
                                                                                </label>
                                                                                <input type="text" id="WellDescription" name="WellDescription" class="form-control" />
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="PurposeOfWaterUse">
                                                                                    @{if (language == "1")
                                                                                        { <span>ii. পানি ব্যবহারের উদ্দেশ্য</span>}
                                                                                        else
                                                                                        {<span>ii. Purpose of Water Use</span>}
                                                                                    }
                                                                                </label>
                                                                                <div id="divPurposeOfWaterUse" class="row" style="margin-left: 5px;">
                                                                                    @{
                                                                                        List<LookUpCcModPurposeOfWaterUse> _powu = ViewBag.LookUpCcModPurposeOfWaterUse;

                                                                                        if (_powu.Count > 0)
                                                                                        {
                                                                                            foreach (LookUpCcModPurposeOfWaterUse pwu in _powu)
                                                                                            {
                                                                                                var id = "chkPurposeOfWaterUse" + pwu.PurposeOfWaterUseId;

                                                                                                if (language == "1")
                                                                                                {
                                                                                                    <div class="checkbox checkbox-pink mb-1 form-check-inline" style="margin-right: 25px;" data-toggle="tooltip" data-placement="top" title="" data-original-title="@pwu.WaterUsePurposeBn">
                                                                                                        <input type="checkbox" name="PurposeOfWaterUseId" id="@id" value="@pwu.PurposeOfWaterUseId" data-parsley-multiple="PurposeOfWaterUseId">
                                                                                                        <label for="@id"> @pwu.WaterUsePurposeBn </label>
                                                                                                    </div>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <div class="checkbox checkbox-pink mb-1 form-check-inline" style="margin-right: 25px;" data-toggle="tooltip" data-placement="top" title="" data-original-title="@pwu.WaterUsePurpose">
                                                                                                        <input type="checkbox" name="PurposeOfWaterUseId" id="@id" value="@pwu.PurposeOfWaterUseId" data-parsley-multiple="PurposeOfWaterUseId">
                                                                                                        <label for="@id"> @pwu.WaterUsePurpose </label>
                                                                                                    </div>
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="HydrologicalRegion">
                                                                                    @if (language == "1")
                                                                                    {<span>iii. হাইড্রোলজিক্যাল অঞ্চল</span>}
                                                                                    else
                                                                                    {<span>iii. Hydrological Region</span>}
                                                                                </label>
                                                                                <div id="chkHydrologicalRegions" style="margin-left: 5px;">
                                                                                    @{
                                                                                        List<LookUpCcModHydroRegion> _hydro_regions = ViewBag.LookUpCcModHydroRegion;

                                                                                        if (_hydro_regions.Count > 0)
                                                                                        {
                                                                                            foreach (LookUpCcModHydroRegion hr in _hydro_regions)
                                                                                            {
                                                                                                var id = "chkHydroRegion" + hr.HydroRegionId;

                                                                                                if (language == "1")
                                                                                                {
                                                                                                    <div class="checkbox checkbox-pink mb-1 form-check-inline" style="margin-right: 25px;" data-toggle="tooltip" data-placement="top" title="" data-original-title="@hr.HydroRegionFullNameBn">
                                                                                                        <input type="checkbox" name="hydrological_region" id="@id" value="@hr.HydroRegionId" data-parsley-multiple="hydrological_region">
                                                                                                        <label for="@id"> @hr.HydroRegionFullNameBn </label>
                                                                                                    </div>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <div class="checkbox checkbox-pink mb-1 form-check-inline" style="margin-right: 25px;" data-toggle="tooltip" data-placement="top" title="" data-original-title="@hr.HydroRegionFullName">
                                                                                                        <input type="checkbox" name="hydrological_region" id="@id" value="@hr.HydroRegionId" data-parsley-multiple="hydrological_region">
                                                                                                        <label for="@id"> @hr.HydroRegionFullName </label>
                                                                                                    </div>
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="BDP2100HotSpot">
                                                                                    @{if (language == "1")
                                                                                        { <span>iv. বাংলাদেশ ব-দ্বীপ পরিকল্পনা-২১০০  হট স্পট</span>}
                                                                                        else
                                                                                        {<span>iv. Bangladesh Delta Plan 2100 Hot Spot </span>}
                                                                                    }
                                                                                </label>
                                                                                <div id="chkBDP2100HotSpot" class="row" style="margin-left: 5px;">
                                                                                    @{
                                                                                        List<LookUpCcModDeltPlan2100HotSpot> _hot_spots = ViewBag.LookUpCcModDeltPlan2100HotSpot;

                                                                                        if (_hot_spots.Count > 0)
                                                                                        {
                                                                                            foreach (LookUpCcModDeltPlan2100HotSpot hs in _hot_spots)
                                                                                            {
                                                                                                var id = "chkBDP2100HotSpot" + hs.DeltaPlanHotSpotId;

                                                                                                if (language == "1")
                                                                                                {
                                                                                                    <div class="checkbox checkbox-pink mb-1 form-check-inline col-md-5" style="margin-right: 25px;" data-toggle="tooltip" data-placement="top" title="" data-original-title="@hs.PlanNameBn">
                                                                                                        <input type="checkbox" name="bdp2100_hot_spot" id="@id" value="@hs.DeltaPlanHotSpotId" data-parsley-multiple="bdp2100_hot_spot">
                                                                                                        <label for="@id"> @hs.PlanNameBn </label>
                                                                                                    </div>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <div class="checkbox checkbox-pink mb-1 form-check-inline col-md-5" style="margin-right: 25px;" data-toggle="tooltip" data-placement="top" title="" data-original-title="@hs.PlanName">
                                                                                                        <input type="checkbox" name="bdp2100_hot_spot" id="@id" value="@hs.DeltaPlanHotSpotId" data-parsley-multiple="bdp2100_hot_spot">
                                                                                                        <label for="@id"> @hs.PlanName </label>
                                                                                                    </div>
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <div id="divAnnualRainfall">
                                                                                <label for="AnnualRainfall" class="bold">
                                                                                    @{if (language == "1")
                                                                                        { <span>v. বার্ষিক বৃষ্টিপাত (বিগত পাঁচ বছর) (মি.মি.)</span>}
                                                                                        else
                                                                                        {<span>v. Annual Rainfall (last five years)</span>}
                                                                                    }
                                                                                </label>

                                                                                <hr style="margin-top: 0 !important;" />

                                                                                <div class="row">
                                                                                    <div class="form-group col-xl-3 text-center">
                                                                                        @{
                                                                                            int year1 = DateTime.Now.Year - 1;

                                                                                            <label for="AnnualRainFallLast1Year">@year1</label>
                                                                                            <input type="number" min="0" id="AnnualRainFallLast1Year" name="AnnualRainFallLast1Year" class="form-control" />
                                                                                        }
                                                                                    </div>

                                                                                    <div class="form-group col-md-2 text-center">
                                                                                        @{
                                                                                            int year2 = DateTime.Now.Year - 2;
                                                                                            <label for="AnnualRainFallLast2Years">@year2</label>
                                                                                            <input type="number" min="0" id="AnnualRainFallLast2Years" name="AnnualRainFallLast2Years" class="form-control" />
                                                                                        }
                                                                                    </div>

                                                                                    <div class="form-group col-xl-2 text-center">
                                                                                        @{
                                                                                            int year3 = DateTime.Now.Year - 3;
                                                                                            <label for="AnnualRainFallLast3Years">@year3</label>
                                                                                            <input type="number" min="0" id="AnnualRainFallLast3Years" name="AnnualRainFallLast3Years" class="form-control" />
                                                                                        }
                                                                                    </div>

                                                                                    <div class="form-group col-md-2 text-center">
                                                                                        @{
                                                                                            int year4 = DateTime.Now.Year - 4;
                                                                                            <label for="AnnualRainFallLast4Years">@year4</label>
                                                                                            <input type="number" min="0" id="AnnualRainFallLast4Years" name="AnnualRainFallLast4Years" class="form-control" />
                                                                                        }
                                                                                    </div>

                                                                                    <div class="form-group col-xl-3 text-center">
                                                                                        @{
                                                                                            int year5 = DateTime.Now.Year - 5;
                                                                                            <label for="AnnualRainFallLast5Years">@year5</label>
                                                                                            <input type="number" min="0" id="AnnualRainFallLast5Years" name="AnnualRainFallLast5Years" class="form-control" />
                                                                                        }
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="TypeProposedWell">
                                                                                    @{if (language == "1")
                                                                                        {<span>vi. প্রস্তাবিত কূপের ধরণ</span>}
                                                                                        else
                                                                                        {<span>vi. Type of Proposed Well</span>}
                                                                                    }
                                                                                </label>
                                                                                <div id="TypeProposedWell" class="row" style="margin-left: 5px;">
                                                                                    @{
                                                                                        List<LookUpCcModTypeProposedWell> _tpw = ViewBag.LookUpCcModTypeProposedWell;

                                                                                        if (_tpw.Count > 0)
                                                                                        {
                                                                                            foreach (LookUpCcModTypeProposedWell tpw in _tpw)
                                                                                            {
                                                                                                var id = "radTypeProposedWell" + tpw.TypeProposedWellId;

                                                                                                if (language == "1")
                                                                                                {
                                                                                                    <div class="radio radio-info form-check-inline" style="margin-right: 25px;">
                                                                                                        <input type="radio" name="TypeProposedWellId" id="@id" value="@tpw.TypeProposedWellId" data-parsley-multiple="TypeProposedWellId">
                                                                                                        <label for="@id"> @tpw.ProposedWellNameBn </label>
                                                                                                    </div>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <div class="radio radio-info form-check-inline" style="margin-right: 25px;">
                                                                                                        <input type="radio" name="TypeProposedWellId" id="@id" value="@tpw.TypeProposedWellId" data-parsley-multiple="TypeProposedWellId">
                                                                                                        <label for="@id"> @tpw.ProposedWellName </label>
                                                                                                    </div>
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="GWDNOW">
                                                                                    @{if (language == "1")
                                                                                        { <span>vii. ভূগর্ভস্থ পানির গভীরতা  (মিটার)</span>}
                                                                                        else
                                                                                        {<span>vii. Ground Water Depth (m)</span>}
                                                                                    }
                                                                                </label>

                                                                                <div id="GWDNOW" class="row" style="margin-left: -7px;">
                                                                                    <div class="table-responsive">
                                                                                        <table class="table mb-0">
                                                                                            <thead>
                                                                                                <tr>
                                                                                                    <th class="text-center">Month</th>
                                                                                                    <th class="text-center">Depth (m)</th>
                                                                                                    <th class="text-center"></th>
                                                                                                </tr>
                                                                                                <tr>
                                                                                                    <th class="text-center">
                                                                                                        <input id="GrndWtrDepthDetailId" type="hidden" />
                                                                                                        <select id="ddlGWDMonth" class="form-control">
                                                                                                            <option value="">Choose...</option>
                                                                                                            <option value="1">January</option>
                                                                                                            <option value="2">February</option>
                                                                                                            <option value="3">March</option>
                                                                                                            <option value="4">April</option>
                                                                                                            <option value="5">May</option>
                                                                                                            <option value="6">June</option>
                                                                                                            <option value="7">July</option>
                                                                                                            <option value="8">August</option>
                                                                                                            <option value="9">September</option>
                                                                                                            <option value="10">October</option>
                                                                                                            <option value="11">November</option>
                                                                                                            <option value="12">December</option>
                                                                                                        </select>
                                                                                                    </th>
                                                                                                    <th class="text-center">
                                                                                                        <input type="number" min="0" id="txtGWDepth" name="txtGWDepth" class="form-control" />
                                                                                                    </th>
                                                                                                    <th class="text-center">
                                                                                                        <button id="btnSaveGWDNOW" type="button" class="btn btn-success waves-effect waves-light" value="Save">
                                                                                                            <i class="mdi mdi-content-save"></i>
                                                                                                        </button>

                                                                                                        <button id="btnClearGWDNOW" type="button" class="btn btn-warning waves-effect waves-light" value="Clear">
                                                                                                            <i class="mdi mdi-refresh"></i>
                                                                                                        </button>
                                                                                                    </th>
                                                                                                </tr>
                                                                                            </thead>
                                                                                            <tbody id="tbdGWDNOW"></tbody>
                                                                                        </table>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="StatusOfAquifer">
                                                                                    @{if (language == "1")
                                                                                        { <span>viii. পানির স্তরের বর্তমান অবস্থা</span> }
                                                                                        else
                                                                                        { <span>viii. Status of Aquifer for Existing Extraction</span> }
                                                                                    }
                                                                                </label>
                                                                                <input type="text" id="StatusOfAquifer" name="StatusOfAquifer" class="form-control" />
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="CategorizationAquifer">
                                                                                    @{if (language == "1")
                                                                                        { <span>ix. একুইফারের শ্রেণীবিন্যাস</span>}
                                                                                        else
                                                                                        {<span>ix. Categorization of Aquifer</span>}
                                                                                    }
                                                                                </label>
                                                                                <div id="divCategorizationAquifer" class="row" style="margin-left: 5px;">
                                                                                    @{
                                                                                        List<LookUpCcModCategoryOfAquifer> _coa = ViewBag.LookUpCcModCategoryOfAquifer;

                                                                                        if (_coa.Count > 0)
                                                                                        {
                                                                                            foreach (LookUpCcModCategoryOfAquifer coa in _coa)
                                                                                            {
                                                                                                var id = "chkCategoryOfAquifer" + coa.CategoryOfAquiferId;

                                                                                                if (language == "1")
                                                                                                {
                                                                                                    <div class="checkbox checkbox-pink mb-1 form-check-inline" style="margin-right: 25px;">
                                                                                                        <input type="checkbox" name="CategoryOfAquiferId" id="@id" value="@coa.CategoryOfAquiferId" data-parsley-multiple="CategoryOfAquiferId">
                                                                                                        <label for="@id"> @coa.AquiferNameBn </label>
                                                                                                    </div>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <div class="checkbox checkbox-pink mb-1 form-check-inline" style="margin-right: 25px;">
                                                                                                        <input type="checkbox" name="CategoryOfAquiferId" id="@id" value="@coa.CategoryOfAquiferId" data-parsley-multiple="CategoryOfAquiferId">
                                                                                                        <label for="@id"> @coa.AquiferName </label>
                                                                                                    </div>
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="GroundWaterQuality">
                                                                                    @{if (language == "1")
                                                                                        {<span>x. ভূগর্ভস্থ পানির গুনগতমান</span>}
                                                                                        else
                                                                                        {<span>x. Ground Water Quality</span>}
                                                                                    }
                                                                                </label>
                                                                                <div id="GroundWaterQuality" class="row" style="margin-left: 5px;">
                                                                                    @{
                                                                                        List<LookUpCcModGroundWaterQuality> _gwq = ViewBag.LookUpCcModGroundWaterQuality;

                                                                                        if (_gwq.Count > 0)
                                                                                        {
                                                                                            foreach (LookUpCcModGroundWaterQuality wq in _gwq)
                                                                                            {
                                                                                                var id = "chkGroundWaterQuality" + wq.GroundWaterQualityId;

                                                                                                if (language == "1")
                                                                                                {
                                                                                                    <div class="checkbox checkbox-pink mb-1 form-check-inline" style="margin-right: 25px;" data-toggle="tooltip" data-placement="top" title="" data-original-title="@wq.ParameterNameBn">
                                                                                                        <input type="checkbox" name="GroundWaterQualityId" id="@id" value="@wq.GroundWaterQualityId" data-parsley-multiple="GroundWaterQualityId">
                                                                                                        <label for="@id"> @wq.ParameterNameBn </label>
                                                                                                    </div>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <div class="checkbox checkbox-pink mb-1 form-check-inline" style="margin-right: 25px;" data-toggle="tooltip" data-placement="top" title="" data-original-title="@wq.ParameterName">
                                                                                                        <input type="checkbox" name="GroundWaterQualityId" id="@id" value="@wq.GroundWaterQualityId" data-parsley-multiple="GroundWaterQualityId">
                                                                                                        <label for="@id"> @wq.ParameterName </label>
                                                                                                    </div>
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="PotentialGroundWaterRecharge">
                                                                                    @{if (language == "1")
                                                                                        {<span>xi. পভূগর্ভস্থ পানির রিচার্জের সম্ভাবনা</span>}
                                                                                        else
                                                                                        {<span>xi. Potential Ground Water Recharge</span>}
                                                                                    }
                                                                                </label>
                                                                                <div id="divPotentialGroundWaterRecharge" class="row" style="margin-left: 5px;">
                                                                                    @{
                                                                                        List<LookUpCcModPotGrndWtrRecharge> _pgwr = ViewBag.LookUpCcModPotGrndWtrRecharge;

                                                                                        if (_pgwr.Count > 0)
                                                                                        {
                                                                                            foreach (LookUpCcModPotGrndWtrRecharge pgwr in _pgwr)
                                                                                            {
                                                                                                var id = "radPotGrndWtrRecharge" + pgwr.PotGrndWtrRechargeId;

                                                                                                if (language == "1")
                                                                                                {
                                                                                                    <div class="radio radio-info form-check-inline" style="margin-right: 25px;">
                                                                                                        <input type="radio" name="PotGrndWtrRechargeId" id="@id" value="@pgwr.PotGrndWtrRechargeId" data-parsley-multiple="PotGrndWtrRechargeId">
                                                                                                        <label for="@id"> @pgwr.IndicatorNameBn </label>
                                                                                                    </div>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <div class="radio radio-info form-check-inline" style="margin-right: 25px;">
                                                                                                        <input type="radio" name="PotGrndWtrRechargeId" id="@id" value="@pgwr.PotGrndWtrRechargeId" data-parsley-multiple="PotGrndWtrRechargeId">
                                                                                                        <label for="@id"> @pgwr.IndicatorName </label>
                                                                                                    </div>
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="WaterWithdrawalTarget">
                                                                                    @{if (language == "1")
                                                                                        { <span>xii. পানি উত্তোলনের লক্ষমাত্রা (কিউসেক)</span> }
                                                                                        else
                                                                                        { <span>xii. Water Withdrawal Target (ft<sup>3</sup>/sec)</span> }
                                                                                    }
                                                                                </label>
                                                                                <input type="number" min="0" id="WaterWithdrawalTarget" name="WaterWithdrawalTarget" class="form-control" />
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="WaterWithdrawalProcedure">
                                                                                    @{if (language == "1")
                                                                                        { <span>xiii. পানি উত্তোলনের পদ্ধতি</span> }
                                                                                        else
                                                                                        { <span>xiii. Water Withdrawal Procedure</span> }
                                                                                    }
                                                                                </label>
                                                                                <input type="text" id="WaterWithdrawalProcedure" name="WaterWithdrawalProcedure" class="form-control" />
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="UseOfMeterToMeasure">
                                                                                    @{if (language == "1")
                                                                                        { <span>xiv. পানি উত্তোলন পরিমাপের জন্য পরিমাপক যন্ত্রের ব্যবস্থা</span> }
                                                                                        else
                                                                                        { <span>xiv. Use of Meter to Measure Groundwater Withdrawal</span> }
                                                                                    }
                                                                                </label>
                                                                                <input type="text" id="UseOfMeterToMeasure" name="UseOfMeterToMeasure" class="form-control" />
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="PumpCapacity">
                                                                                    @{if (language == "1")
                                                                                        { <span>xv. ব্যবহৃতব্য মটরের ক্ষমতা</span> }
                                                                                        else
                                                                                        { <span>xv. Pump Capacity (hp)</span> }
                                                                                    }
                                                                                </label>
                                                                                <input type="number" min="0" id="PumpCapacity" name="PumpCapacity" class="form-control" />
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="WellDepth">
                                                                                    @{if (language == "1")
                                                                                        { <span>xvi. নলকূপের গভীরতা (ফুট)</span> }
                                                                                        else
                                                                                        { <span>xvi. Well Depth (ft)</span> }
                                                                                    }
                                                                                </label>
                                                                                <input type="number" min="0" id="WellDepth" name="WellDepth" class="form-control" />
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="PipeDiameterOfWell">
                                                                                    @{if (language == "1")
                                                                                        { <span>xvii. নলকূপ ব্যবহৃতব্য পাইপের ব্যাস (ইঞ্চি)</span> }
                                                                                        else
                                                                                        { <span>xvii. Pipe Diameter of Well (inch)</span> }
                                                                                    }
                                                                                </label>
                                                                                <input type="number" min="0" id="PipeDiameterOfWell" name="PipeDiameterOfWell" class="form-control" />
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="WaterWithdrawalQtyDay">
                                                                                    @{if (language == "1")
                                                                                        { <span>xviii. পানি উত্তোলনের পরিমাণ (কিউবিক মিটার/ দিন)</span> }
                                                                                        else
                                                                                        { <span>xviii. Water Withdrawal Quantity Per Day (m<sup>3</sup>/day)</span> }
                                                                                    }
                                                                                </label>
                                                                                <input type="number" min="0" id="WaterWithdrawalQtyDay" name="WaterWithdrawalQtyDay" class="form-control" />
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="RechargeTime">
                                                                                    @{if (language == "1")
                                                                                        { <span>xix. রিচার্জের সময়</span> }
                                                                                        else
                                                                                        { <span>xix. Recharge Time</span> }
                                                                                    }
                                                                                </label>
                                                                                <input type="text" id="RechargeTime" name="RechargeTime" class="form-control" />
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="SoilType">
                                                                                    @{if (language == "1")
                                                                                        {<span>xx. মাটির ধরণ</span>}
                                                                                        else
                                                                                        {<span>xx. Soil Type</span>}
                                                                                    }
                                                                                </label>
                                                                                <div id="divSoilType" class="row" style="margin-left: 5px;">
                                                                                    @{
                                                                                        List<LookUpCcModSoilType> _sty = ViewBag.LookUpCcModSoilType;

                                                                                        if (_sty.Count > 0)
                                                                                        {
                                                                                            foreach (LookUpCcModSoilType sty in _sty)
                                                                                            {
                                                                                                var id = "chkSoilType" + sty.SoilTypeId;

                                                                                                if (language == "1")
                                                                                                {
                                                                                                    <div class="checkbox checkbox-pink mb-1 form-check-inline" style="margin-right: 25px;">
                                                                                                        <input type="checkbox" name="SoilTypeId" id="@id" value="@sty.SoilTypeId" data-parsley-multiple="SoilTypeId">
                                                                                                        <label for="@id"> @sty.SoilTypeNameBn </label>
                                                                                                    </div>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <div class="checkbox checkbox-pink mb-1 form-check-inline" style="margin-right: 25px;">
                                                                                                        <input type="checkbox" name="SoilTypeId" id="@id" value="@sty.SoilTypeId" data-parsley-multiple="SoilTypeId">
                                                                                                        <label for="@id"> @sty.SoilTypeName </label>
                                                                                                    </div>
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="WaterUse">
                                                                                    @{if (language == "1")
                                                                                        {<span>xxi. পানির ব্যবহার</span>}
                                                                                        else
                                                                                        {<span>xxi. Water Use</span>}
                                                                                    }
                                                                                </label>
                                                                                <div id="divWaterUse" class="row" style="margin-left: 5px;">
                                                                                    @{
                                                                                        List<LookUpCcModWaterUseConsumption> _wuc = ViewBag.LookUpCcModWaterUseConsumption;

                                                                                        if (_wuc.Count > 0)
                                                                                        {
                                                                                            foreach (LookUpCcModWaterUseConsumption wuc in _wuc)
                                                                                            {
                                                                                                var id = "radWaterUseConsumption" + wuc.WaterUseConsumptionId;

                                                                                                if (language == "1")
                                                                                                {
                                                                                                    <div class="radio radio-info form-check-inline" style="margin-right: 25px;">
                                                                                                        <input type="radio" name="WaterUseConsumptionId" id="@id" value="@wuc.WaterUseConsumptionId" data-parsley-multiple="WaterUseConsumptionId">
                                                                                                        <label for="@id"> @wuc.ConsumptionNameBn </label>
                                                                                                    </div>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <div class="radio radio-info form-check-inline" style="margin-right: 25px;">
                                                                                                        <input type="radio" name="WaterUseConsumptionId" id="@id" value="@wuc.WaterUseConsumptionId" data-parsley-multiple="WaterUseConsumptionId">
                                                                                                        <label for="@id"> @wuc.ConsumptionName </label>
                                                                                                    </div>
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="DischargePoint">
                                                                                    @{if (language == "1")
                                                                                        { <span>xxii. নির্গমিত পানির স্থানের বিবরণ</span> }
                                                                                        else
                                                                                        { <span>xxii. Discharge Point</span> }
                                                                                    }
                                                                                </label>
                                                                                <input type="text" id="DischargePoint" name="DischargePoint" class="form-control" />
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="NearestWellDescription">
                                                                                    @if (language == "1")
                                                                                    {<span>xxiii. নিকটস্থ নলকূপের বিবরণ</span> }
                                                                                    else
                                                                                    { <span>xxiii. Nearest Well Description</span>}
                                                                                </label>

                                                                                <div id="divNearestWellDescription" class="row" style="margin-left: -7px;">
                                                                                    <div class="table-responsive">
                                                                                        <table class="table mb-0">
                                                                                            <thead>
                                                                                                <tr>
                                                                                                    <th class="text-center">
                                                                                                        @if (language == "1")
                                                                                                        {<span>প্রস্থাবিত কূপ হতে দূরত্ব (মি.)</span> }
                                                                                                        else
                                                                                                        { <span>Distance (m) from proposed extraction well</span>}
                                                                                                    </th>
                                                                                                    <th class="text-center">
                                                                                                        @if (language == "1")
                                                                                                        {<span>স্থান</span> }
                                                                                                        else
                                                                                                        { <span>Place</span>}
                                                                                                    </th>
                                                                                                    <th class="text-center" title="e.g. Dug well, Dug Cum Bore well, Bore Well, Open Well, Shallow Tube Well, Deep Tube Well">
                                                                                                        @if (language == "1")
                                                                                                        {<span>ধরণ</span> }
                                                                                                        else
                                                                                                        { <span>Type</span>}
                                                                                                    </th>
                                                                                                    <th class="text-center">
                                                                                                        @if (language == "1")
                                                                                                        {<span>ক্ষমতা</span> }
                                                                                                        else
                                                                                                        { <span>Capacity</span>}
                                                                                                    </th>
                                                                                                    <th class="text-center">
                                                                                                        @if (language == "1")
                                                                                                        {<span>মনলকূপ ব্যবহৃতব্য পাইপের ব্যাস (ইঞ্চি)</span> }
                                                                                                        else
                                                                                                        { <span>Diameter of Well (m)</span>}
                                                                                                    </th>
                                                                                                    <th class="text-center">
                                                                                                        @if (language == "1")
                                                                                                        {<span>নলকূপের গভীরতা (ফুট)</span> }
                                                                                                        else
                                                                                                        { <span>Depth of Well (m)</span>}
                                                                                                    </th>
                                                                                                    <th class="text-center">
                                                                                                        @if (language == "1")
                                                                                                        {<span>রিচার্জের সময়</span> }
                                                                                                        else
                                                                                                        { <span>Recuperation Hours</span>}
                                                                                                    </th>
                                                                                                </tr>
                                                                                            </thead>
                                                                                            <tbody>
                                                                                                <tr>
                                                                                                    <td class="text-center">
                                                                                                        <input type="number" min="0" id="DistanceProposedExtractWell" name="DistanceProposedExtractWell" class="form-control" />
                                                                                                    </td>
                                                                                                    <td class="text-center">
                                                                                                        <input type="text" id="Place" name="Place" class="form-control" />
                                                                                                    </td>
                                                                                                    <td class="text-center">
                                                                                                        <input type="text" id="WellType" name="WellType" class="form-control" />
                                                                                                    </td>
                                                                                                    <td class="text-center">
                                                                                                        <input type="number" min="0" id="Capacity" name="Capacity" class="form-control" />
                                                                                                    </td>
                                                                                                    <td class="text-center">
                                                                                                        <input type="number" min="0" id="DiameterOfWell" name="DiameterOfWell" class="form-control" />
                                                                                                    </td>
                                                                                                    <td class="text-center">
                                                                                                        <input type="number" min="0" id="DepthOfWell" name="DepthOfWell" class="form-control" />
                                                                                                    </td>
                                                                                                    <td class="text-center">
                                                                                                        <input type="text" id="RecuperationHours" name="RecuperationHours" class="form-control" />
                                                                                                    </td>
                                                                                                </tr>
                                                                                            </tbody>
                                                                                        </table>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="DescriptionNearestSurfaceWaterAvailability">
                                                                                    @if (language == "1")
                                                                                    {<span>xxiv. নিকটস্থ  ভূপরিস্থ পানি প্রাপ্যতার বিবরণ</span> }
                                                                                    else
                                                                                    { <span>xxiv. Description of Nearest Surface Water Availability</span>}
                                                                                </label>

                                                                                <div id="divDescriptionNearestSurfaceWaterAvailability" class="row" style="margin-left: -7px;">
                                                                                    <div class="table-responsive">
                                                                                        <table class="table mb-0">
                                                                                            <thead>
                                                                                                <tr>
                                                                                                    <th class="text-center">
                                                                                                        @if (language == "1")
                                                                                                        {<span>নদী/ খাল</span> }
                                                                                                        else
                                                                                                        { <span>River/ Khal</span>}
                                                                                                    </th>
                                                                                                    <th class="text-center">
                                                                                                        @if (language == "1")
                                                                                                        {<span>প্রস্থাবিত কূপ হতে দূরত্ব (মি.)</span> }
                                                                                                        else
                                                                                                        { <span>Distance (m) from Proposed Extraction Well</span>}
                                                                                                    </th>
                                                                                                    <th class="text-center">
                                                                                                        @if (language == "1")
                                                                                                        {<span>পানির সমতল (মিটার)</span> }
                                                                                                        else
                                                                                                        { <span>Water Level (m)</span>}
                                                                                                    </th>
                                                                                                    <th class="text-center">
                                                                                                        @if (language == "1")
                                                                                                        {<span>পানির প্রবাহ (কিউমেক)</span> }
                                                                                                        else
                                                                                                        { <span>Discharge (m<sup>3</sup>/s)</span>}
                                                                                                    </th>
                                                                                                </tr>
                                                                                            </thead>
                                                                                            <tbody>
                                                                                                <tr>
                                                                                                    <td class="text-center">
                                                                                                        <input type="text" id="RiverKhalName" name="RiverKhalName" class="form-control" />
                                                                                                    </td>
                                                                                                    <td class="text-center">
                                                                                                        <input type="number" min="0" id="NearestSurfWaterAvailDistance" name="NearestSurfWaterAvailDistance" class="form-control" />
                                                                                                    </td>
                                                                                                    <td class="text-center">
                                                                                                        <input type="number" min="0" id="WaterLevel" name="WaterLevel" class="form-control" />
                                                                                                    </td>
                                                                                                    <td class="text-center">
                                                                                                        <input type="number" min="0" id="Discharge" name="Discharge" class="form-control" />
                                                                                                    </td>
                                                                                                </tr>
                                                                                            </tbody>
                                                                                        </table>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="CommandAreaOfWell">
                                                                                    @{if (language == "1")
                                                                                        { <span>xxv. কূপের কমান্ড এরিয়া (হেক্টর)</span> }
                                                                                        else
                                                                                        { <span>xxv. Command Area of Well (Ha)</span> }
                                                                                    }
                                                                                </label>
                                                                                <input type="number" min="0" id="CommandAreaOfWell" name="CommandAreaOfWell" class="form-control" />
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="OtherAvailableSource">
                                                                                    @{if (language == "1")
                                                                                        { <span>xxvi. পানি প্রাপ্তির অন্যান্য উৎস</span> }
                                                                                        else
                                                                                        { <span>xxvi. Other available source</span> }
                                                                                    }
                                                                                </label>
                                                                                <input type="text" id="OtherAvailableSource" name="OtherAvailableSource" class="form-control" />
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="FutureAvailability">
                                                                                    @{if (language == "1")
                                                                                        { <span>xxvii. পানি উত্তোলনের স্থানে ভবিষ্যতে পানি প্রাপ্তির সম্ভাবনা</span> }
                                                                                        else
                                                                                        { <span>xxvii. Future Availability at withdrawal point</span> }
                                                                                    }
                                                                                </label>
                                                                                <input type="text" id="FutureAvailability" name="FutureAvailability" class="form-control" />
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="CultivableCrops">
                                                                                    @{if (language == "1")
                                                                                        { <span>xxviii. উৎপাদন যোগ্য শস্য/ফসল সমূহ</span> }
                                                                                        else
                                                                                        { <span>xxviii. Cultivable crops</span> }
                                                                                    }
                                                                                </label>
                                                                                <input type="text" id="CultivableCrops" name="CultivableCrops" class="form-control" />
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="AnnualRequirementOfGW">
                                                                                    @{if (language == "1")
                                                                                        { <span>xxix. ফসল উৎপাদনের জন্য বার্ষিক ভূগর্ভস্থ পানির চাহিদা</span> }
                                                                                        else
                                                                                        { <span>xxix. Annual Requirement of GW for crop production</span> }
                                                                                    }
                                                                                </label>
                                                                                <input type="number" min="0" id="AnnualRequirementOfGW" name="AnnualRequirementOfGW" class="form-control" />
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="IrrigatedCropArea">
                                                                                    @{if (language == "1")
                                                                                        { <span>xxx. চাষাবাদকৃত খাদ্যশস্য এলাকা (হেক্টর)</span>}
                                                                                        else
                                                                                        {<span>xxx. Irrigated Crop Area (ha)</span>}
                                                                                    }
                                                                                </label>

                                                                                <div id="IrrigatedCropArea" class="row" style="margin-left: -7px;">
                                                                                    <div class="table-responsive">
                                                                                        <table class="table mb-0">
                                                                                            <thead>
                                                                                                <tr>
                                                                                                    <th class="text-center">#</th>
                                                                                                    <th class="text-center">
                                                                                                        @{if (language == "1")
                                                                                                            { <span>ফসলের নাম</span>}
                                                                                                            else
                                                                                                            {<span>Crops Name</span>}
                                                                                                        }
                                                                                                    </th>
                                                                                                    <th class="text-center">
                                                                                                        @{if (language == "1")
                                                                                                            { <span>এলাকা (হেক্টর)</span>}
                                                                                                            else
                                                                                                            {<span>Area</span>}
                                                                                                        }
                                                                                                    </th>
                                                                                                    <th class="text-center"></th>
                                                                                                </tr>
                                                                                                <tr>
                                                                                                    <th colspan="2" class="text-center">
                                                                                                        <input id="IrrigatedCropId" type="hidden" />
                                                                                                        <input type="text" id="CropName" name="CropName" class="form-control" />
                                                                                                    </th>
                                                                                                    <th class="text-center">
                                                                                                        <input type="number" min="0" id="Area" name="Area" class="form-control" />
                                                                                                    </th>
                                                                                                    <th class="text-center">
                                                                                                        <button id="btnSaveIrrigatedCropArea" type="button" class="btn btn-success waves-effect waves-light" value="Save">
                                                                                                            <i class="mdi mdi-content-save"></i>
                                                                                                        </button>

                                                                                                        <button id="btnClearIrrigatedCropArea" type="button" class="btn btn-warning  waves-effect waves-light" value="Save">
                                                                                                            <i class="mdi mdi-refresh"></i>
                                                                                                        </button>
                                                                                                    </th>
                                                                                                </tr>
                                                                                            </thead>
                                                                                            <tbody id="tbodyIrrigatedCropArea"></tbody>
                                                                                        </table>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label for="CropProduction">
                                                                                    @{if (language == "1")
                                                                                        { <span>xxxi. ফসল/ খাদ্যশস্য উৎপাদনের পরিমান (টন)</span>}
                                                                                        else
                                                                                        {<span>xxxi. Crop Production (ton)</span>}
                                                                                    }
                                                                                </label>
                                                                                <input type="number" min="0" id="CropProduction" name="CropProduction" class="form-control" />
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <hr />

                                                                <div class="form-group mb-0">
                                                                    <button id="btnSaveTechInfo" type="button" class="btn btn-info waves-effect waves-light">
                                                                        <span class="btn-label"><i class="mdi mdi-content-save"></i></span>
                                                                        @if (language == "1")
                                                                        {
                                                                            <span>সংরক্ষণ করুন</span>
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>Save</span>
                                                                        }
                                                                        <span class="myspinner spinner-border spinner-border-sm mr-1 d-none"></span>
                                                                    </button>

                                                                    <button id="btnClearTechInfo" type="button" class="btn btn-danger waves-effect waves-light">
                                                                        <span class="btn-label"><i class="mdi mdi-close-outline"></i></span>
                                                                        @if (language == "1")
                                                                        {
                                                                            <span>পরিষ্কার করুন</span>
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>Clear</span>
                                                                        }
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </form>
                                                    </div>

                                                    <div class="tab-pane fade" id="v-deed-obligatory" role="tabpanel" aria-labelledby="v-deed-obligatory-tab">
                                                        <div class="card-box">
                                                            @{ Html.RenderPartial("form/_4DeedObligatory"); }
                                                        </div>
                                                    </div>

                                                    <div class="tab-pane fade" id="v-administrative" role="tabpanel" aria-labelledby="v-administrative-tab">
                                                        @{ Html.RenderPartial("form/_5Administrative"); }
                                                    </div>

                                                    <div class="tab-pane fade" id="v-final-submit" role="tabpanel" aria-labelledby="v-final-submit-tab">
                                                        <div class="card-box">
                                                            @{ Html.RenderPartial("form/_6FinalSubmit"); }
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        @*<div class="tab-pane" id="basictab2">
                                <div class="row">
                                   @Html.Partial("_PreviewForm32")
                                </div>
                            </div>*@
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

@section PageScripts {
    <script src="~/libs/twitter-bootstrap-wizard/jquery.bootstrap.wizard.min.js"></script>
    <script src="~/js/pages/form-wizard.init.js"></script>

    <script type="text/javascript">
        jQuery(document).ready(function () {
            $("#btnGoBack").click(function () {
                GoBack();
            });

            var input_lang = '@language';
            if (input_lang == 1) {
                $('textarea, input[type=text]').avro({ 'bn': true });
            }

            var projectId = '@ViewBag.ProjectCommonDetail.ProjectId';

            if (projectId != '' && projectId != 0) {
                BindData();
            }
        });
    </script>

    <script type="text/javascript">
        jQuery(document).ready(function () {
            GetProjLocationsData();
            GetIrrigatedCropAreaData();
            GetGWDNOWData();

            jQuery("#btnSaveGeneral").click(function () {
				var ProjectName = GetTextValue('ProjectName');
                var BackgroundAndRationale = GetTextValue('BackgroundAndRationale');
                var ProjectTarget = GetTextValue('ProjectTarget');
                var ProjectObjective = GetTextValue('ProjectObjective');                
                var ProjectStartDate = GetTextValue('ProjectStartDate');
                var ProjectCompletionDate = GetTextValue('ProjectCompletionDate');
                var ProjectEstimatedCost = GetTextValue('ProjectEstimatedCost') == '' ? '0' : GetTextValue('ProjectEstimatedCost');

                if (ProjectName == '') {
                    Notification('warning', 'Required Field', 'Project name can not be left empty.');
                    Swal.fire('Required Field', 'Project name can not be left empty.', 'warning');
                    jQuery('#ProjectName').focus();
                    return;
                }

                if (BackgroundAndRationale == '') {
                    Notification('warning', 'Required Field', 'Project background and rationale can not be left empty.');
                    Swal.fire('Required Field', 'Project background and rationale can not be left empty.', 'warning');
                    jQuery('#BackgroundAndRationale').focus();
                    return;
                }

                if (ProjectTarget == '') {
                    Notification('warning', 'Required Field', 'Project target can not be left empty.');
                    Swal.fire('Required Field', 'Project target can not be left empty.', 'warning');
                    jQuery('#ProjectTarget').focus();
                    return;
                }

                if (ProjectObjective == '') {
                    Notification('warning', 'Required Field', 'Project objective can not be left empty.');
                    Swal.fire('Required Field', 'Project objective can not be left empty.', 'warning');
                    jQuery('#ProjectObjective').focus();
                    return;
                }

                if (ProjectStartDate == '') {
                    Notification('warning', 'Required Field', 'Please select a project start date and can not be left empty.');
                    Swal.fire('Required Field', 'Please select a project start date and can not be left empty.', 'warning');
                    jQuery('#ProjectStartDate').focus();
                    return;
                }

                if (ProjectCompletionDate == '') {
                    Notification('warning', 'Required Field', 'Please select a project completion date and can not be left empty.');
                    Swal.fire('Required Field', 'Please select a project completion date and can not be left empty.', 'warning');
                    jQuery('#ProjectCompletionDate').focus();
                    return;
                }

                if (ProjectEstimatedCost == '') {
                    Notification('warning', 'Required Field', 'Please enter project estimated cost amount.');
                    Swal.fire('Required Field', 'Please enter project estimated cost amount.', 'warning');
                    jQuery('#ProjectEstimatedCost').focus();
                    return;
                }
				
				if (!IsNumeric(ProjectEstimatedCost)) {
                    Notification('warning', 'Required Field', 'Please enter valid project estimated cost amount.');
                    Swal.fire('Required Field', 'Please enter valid project estimated cost amount.', 'warning');
                    jQuery('#ProjectEstimatedCost').focus();
                    return;
                }
				
				if (parseFloat(ProjectEstimatedCost) == 0 || parseFloat(ProjectEstimatedCost) < 0) {
                    Notification('warning', 'Required Field', 'Project estimated cost amount can not be equal to zero (0) or can not be negative.');
                    Swal.fire('Required Field', 'Project estimated cost amount can not be equal to zero (0) or can not be negative.', 'warning');
                    jQuery('#ProjectEstimatedCost').focus();
                    return;
                }
				
                GeneralInfoSave();
            });

            jQuery("#btnClearGeneral").click(function () {
                Swal.fire({
                    title: "Are you sure?",
                    text: "All data will be cleared from General Information panel!",
                    type: "warning",
                    allowEscapeKey: false,
                    allowOutsideClick: false,
                    showCancelButton: !0,
                    confirmButtonColor: "#3085d6",
                    cancelButtonColor: "#d33",
                    confirmButtonText: "Sure"
                }).then(function (t) {
                    if (t.value == true) {
                        $('#frmGeneralInfo').trigger("reset");
                    }
                });
            });

            jQuery("#btnNext").click(function (e) {
                //block 1
                if (jQuery("#lnkTab1").hasClass('active')) {
                    var selectedFormType = jQuery("#ddlTypeOfForms").val();

                    if (selectedFormType === '') {
                        Notification('warning', 'Required Field', 'Please select a form.');
                        e.preventDefault();
                        return false;
                    }
                }
                //end block 1
            });

            jQuery("#btnPrevious").click(function () {

            });
        });

        $(function () {
            $('textarea').avro({ 'bn': true }, function (isBangla) {
                if (isBangla) {
                    console.log('Bangla');
                } else {
                    console.log('English');
                }
            });
        });

        jQuery(window).bind('keydown', function (event) {
            if (event.ctrlKey || event.metaKey) {
                switch (String.fromCharCode(event.which).toLowerCase()) {
                    //case 'b':
                    //    event.preventDefault();
                    //    jQuery('textarea, input[type=text]').avro({ 'bn': true });
                    //    //console.log('You have pressed Ctrl + b');
                    //    break;

                    //case 'e':
                    //    event.preventDefault();
                    //    jQuery('textarea, input[type=text]').avro({ 'bn': false });
                    //    //console.log('You have pressed Ctrl + e');
                    //    break;

                    //to collapse all accordion panel at same time
                    case 'k':
                        event.preventDefault();
                        alert('You have pressed Ctrl + k');
                        break;

                    //case 's':
                    //    event.preventDefault();
                    //    alert('You have pressed Ctrl + s');
                    //    break;

                    //to expand all accordion panel at same time
                    case 'x':
                        event.preventDefault();
                        alert('You have pressed Ctrl + x');
                        break;
                }
            }
        });

        jQuery("#DistrictGeoCode").change(function () {
            var code = jQuery(this).val();
            var type = 'upz';

            if (code != '') {
                jQuery("#UpazilaGeoCode, #UnionGeoCode").html('<option value="">Choose...</option>');
                GetAdminData(code, type);
            }
        });

        jQuery("#UpazilaGeoCode").change(function () {
            var code = jQuery(this).val();
            var type = 'uni';

            if (code != '') {
                jQuery("#UnionGeoCode").html('<option value="">Choose...</option>');
                GetAdminData(code, type);
            }
        });

        jQuery("input[type='radio'][name='CompatNWPYesNoId']").change(function () {
            if (jQuery(this).val() == 1) {
                jQuery("#divCwnwpPolicy").removeClass('d-none fadeOut');
                jQuery("#divCwnwpPolicy").addClass('d-block fadeIn');
            } else {
                jQuery("#divCwnwpPolicy").removeClass('d-block fadeIn');
                jQuery("#divCwnwpPolicy").addClass('d-none fadeOut');
            }
        });

        jQuery("input[type='radio'][name='NWMPCompatYesNoId']").change(function () {
            if (jQuery(this).val() == 1) {
                jQuery("#divCNWMP").removeClass('d-none fadeOut');
                jQuery("#divCNWMP").addClass('d-block fadeIn');
            } else {
                jQuery("#divCNWMP").removeClass('d-block fadeIn');
                jQuery("#divCNWMP").addClass('d-none fadeOut');
            }
        });

        jQuery("input[type='radio'][name='SDGYesNoId']").change(function () {
            if (jQuery(this).val() == 1) {
                jQuery("#divCwsdg, #divSDG6Indicators").removeClass('d-none fadeOut');
                jQuery("#divCwsdg, #divSDG6Indicators").addClass('d-block fadeIn');
            } else {
                jQuery("#divCwsdg, #divSDG6Indicators").removeClass('d-block fadeIn');
                jQuery("#divCwsdg, #divSDG6Indicators").addClass('d-none fadeOut');
            }
        });

        jQuery("input[type='radio'][name='DeltaPlanYesNoId']").change(function () {
            if (jQuery(this).val() == 1) {
                jQuery("#divCwbdp2100").removeClass('d-none fadeOut');
                jQuery("#divCwbdp2100").addClass('d-block fadeIn');
            } else {
                jQuery("#divCwbdp2100").removeClass('d-block fadeIn');
                jQuery("#divCwbdp2100").addClass('d-none fadeOut');
            }
        });

        jQuery("input[type='radio'][name='GPWMYesNoId']").change(function () {
            if (jQuery(this).val() == 1) {
                jQuery("#divCwgpwm").removeClass('d-none fadeOut');
                jQuery("#divCwgpwm").addClass('d-block fadeIn');
            } else {
                jQuery("#divCwgpwm").removeClass('d-block fadeIn');
                jQuery("#divCwgpwm").addClass('d-none fadeOut');
            }
        });

        //Project Location JS
        jQuery("#btnSaveProjLocation").click(function () {
            var LocationId = jQuery("#LocationId").val();
            LocationId = (LocationId == '') ? 0 : LocationId;
            var DistrictGeoCode = jQuery("#DistrictGeoCode option:selected").val();
            var UpazilaGeoCode = jQuery("#UpazilaGeoCode option:selected").val();
            var UnionGeoCode = jQuery("#UnionGeoCode option:selected").val();
            var Latitude = jQuery("#Latitude").val();
            var Longitude = jQuery("#Longitude").val();

            if (DistrictGeoCode != '') {
                var ProjectId = GetHiddenValue('ProjectId');

                var plds = {
                    "LocationId": LocationId,
                    "ProjectId": ProjectId,
                    "DistrictGeoCode": DistrictGeoCode,
                    "UpazilaGeoCode": UpazilaGeoCode,
                    "UnionGeoCode": UnionGeoCode,
                    "Latitude": Latitude,
                    "Longitude": Longitude
                };

                var url = '@Url.Action("plds", "form")';
                jQuery.ajax({
                    type: "POST",
                    url: url,
                    data: { _plds: plds },
                    dataType: "json",
                    success: function (data, status, jqXHR) {
                        if (data.status == 'success') {
                            var id = data.id;
                            SaveProjLocFile(id, ProjectId);

                            Notification('success', 'Success', data.message);
                            GetProjLocationsData();
                            ClearProjLocation();
                        } else {
                            Notification('error', 'Saving Error', data.message);
                        }
                    }, error: function (jqXHR, exception) {
                        var errorMsg = AjaxErrorHandle(jqXHR, exception);
                        Notification('error', 'Error Occured', errorMsg);
                    }
                });
            } else {
                Notification('warning', 'Required Field', 'Please select your project district!');
                jQuery("#DistrictGeoCode").focus();
            }
        });

        jQuery("#btnClearProjLocation").click(function () {
            ClearProjLocation();
        });

        function SaveProjLocFile(locationid, projectid) {
            var locfile = jQuery('#ImageFileName').prop('files')[0];

            var formData = new FormData();
            formData.append("locationid", locationid);
            formData.append("projectid", projectid);
            formData.append("file", locfile);

            var url = '@Url.Action("uplf", "form")';
            $.ajax({
                url: url,
                data: formData,
                processData: false,
                contentType: false,
                type: "POST",
                success: function (data) {
                    if (data.message != '')
                        Swal.fire(data.title, data.message, data.status);
                }, error: function (jqXHR, exception) {
                    var errorMsg = AjaxErrorHandle(jqXHR, exception);
                    Swal.fire('Error Occured', errorMsg, 'error');
                }
            });
        }

        function ClearProjLocation() {
            jQuery("#LocationId").val('');
            jQuery("#DistrictGeoCode").val('');
            jQuery("#UpazilaGeoCode").html('<option val=""></option>');
            jQuery("#UnionGeoCode").html('<option val=""></option>');
            jQuery("#Latitude, #Longitude").val('');
            jQuery('#ImageFileName').val('');
        }

        function GetProjLocationsData() {
            var lang = '@language';
            var ProjectId = GetHiddenValue('ProjectId');
            var url = '@Url.Action("get_pld", "form")';

            jQuery.ajax({
                type: "GET",
                url: url,
                data: { project_id: ProjectId },
                dataType: "json",
                success: function (data, status, jqXHR) {
                    if (data.length > 0) {
                        var rows = '';

                        var count = 0;

                        if (lang == '1') {
                            jQuery.each(data, function (i, item) {
                                ++count;

                                var lat = (item.latitude == null) ? '' : item.latitude;
                                var lon = (item.longitude == null) ? '' : item.longitude;
                                var fileName = item.onlyImageFileName != '' ? item.imageFileName : '../images/no_image.png';
                                rows += '<tr><td scope="row" class="bold">' + count + '</td><td>' + item.districtNameBn + '</td><td>' + item.upazilaNameBn + '</td><td>' + item.unionNameBn + '</td><td>' + lat + '</td><td>' + lon + '</td><td><a href="' + fileName + '" target="_blank"><img src="' + fileName + '" height="50px" /></a></td><td class="text-center"><button onclick="javascript:EditLoc(' + item.locationId + ', ' + item.projectId + ');" type="button" class="btn btn-success waves-effect waves-light"><i class="mdi mdi-lead-pencil"></i></button> <button onclick="javascript:Delete(' + item.locationId + ', ' + item.projectId + ', \'CcModPrjLocationDetail\'); GetProjLocationsData();" type="button" class="btn btn-danger waves-effect waves-light"><i class="mdi mdi-delete"></i></button></td></tr>';
                            });
                        } else {
                            jQuery.each(data, function (i, item) {
                                ++count;

                                var latEg = (item.latitude == null) ? '' : item.latitude;
                                var lonEg = (item.longitude == null) ? '' : item.longitude;
                                var fileName = item.onlyImageFileName != '' ? item.imageFileName : '../images/no_image.png';
                                //console.log('item.onlyImageFileName: ' + item.onlyImageFileName);
                                //console.log('item.imageFileName: ' + item.imageFileName);
                                //console.log('fileName: ' + fileName);

                                rows += '<tr><td scope="row" class="bold">' + count + '</td><td>' + item.districtName + '</td><td>' + item.upazilaName + '</td><td>' + item.unionName + '</td><td>' + latEg + '</td><td>' + lonEg + '</td><td><a href="' + fileName + '" target="_blank"><img src="' + fileName + '" height="50px" /></a></td><td class="text-center"><button onclick="javascript:EditLoc(' + item.locationId + ', ' + item.projectId + ');" type="button" class="btn btn-success waves-effect waves-light"><i class="mdi mdi-lead-pencil"></i></button> <button onclick="javascript:Delete(' + item.locationId + ', ' + item.projectId + ', \'CcModPrjLocationDetail\'); GetProjLocationsData();" type="button" class="btn btn-danger waves-effect waves-light"><i class="mdi mdi-delete"></i></button></td></tr>';
                            });
                        }
                        jQuery("#tbodyProjectLocation").html(rows);
                    } else {
                        jQuery("#tbodyProjectLocation").html('<tr><td colspan="8" class="text-center text-red"><div class="alert alert-warning" role="alert"> Sorry, no data found </div></td></tr>');
                    }
                }, error: function (jqXHR, exception) {
                    var errorMsg = AjaxErrorHandle(jqXHR, exception);
                    jQuery("#tbodyProjectLocation").html('<tr><td colspan="8" class="text-center text-red"><div class="alert alert-danger" role="alert">' + errorMsg + '</div></td></tr>');
                    Notification('error', 'Error Occured', errorMsg);
                }
            });
        }

        //start :: Irrigated Crop Area JS
        jQuery("#HydroSystemCategoryId").change(function () {
            var name = jQuery("#HydroSystemCategoryId option:selected").text();
        });

        jQuery("#btnSaveIrrigatedCropArea").click(function () {
            var IrrigatedCropId = GetHiddenValue('IrrigatedCropId');
            IrrigatedCropId = (IrrigatedCropId == '') ? 0 : IrrigatedCropId;
            var CropName = jQuery("#CropName").val();
            var Area = jQuery("#Area").val();

            if (CropName != '') {
                if (Area != '') {
                    var ProjectId = GetHiddenValue('ProjectId');
                    var irrigCropAreaDetail = {
                        "IrrigatedCropId": IrrigatedCropId,
                        "ProjectId": ProjectId,
                        "CropName": CropName,
                        "Area": Area
                    };

                    var url = '@Url.Action("icas", "form")';
                    jQuery.ajax({
                        type: "POST",
                        url: url,
                        data: { _ica: irrigCropAreaDetail },
                        dataType: "json",
                        success: function (data, status, jqXHR) {
                            if (data.status == 'success') {
                                Notification('success', 'Success', data.message);

                                GetIrrigatedCropAreaData();
                                ClearIrrigatedCropArea();
                            } else {
                                Notification('error', 'Saving Error', data.message);
                            }
                        }, error: function (jqXHR, exception) {
                            var errorMsg = AjaxErrorHandle(jqXHR, exception);
                            Notification('error', 'Error Occured', errorMsg);
                        }
                    });
                } else {
                    Notification('warning', 'Required Field', 'Please enter area!');
                    jQuery("#Area").focus();
                }
            } else {
                Notification('warning', 'Required Field', 'Please enter crop name!');
                jQuery("#CropName").focus();
            }
        });

        jQuery("#btnClearIrrigatedCropArea").click(function () {
            ClearIrrigatedCropArea();
        });

        function ClearIrrigatedCropArea() {
            jQuery("#IrrigatedCropId").val('');
            jQuery("#CropName").val('');
            jQuery("#Area").val('');
        }

        function GetIrrigatedCropAreaData() {
            var ProjectId = GetHiddenValue('ProjectId');
            var url = '@Url.Action("get_ica", "form")';

            jQuery.ajax({
                type: "GET",
                url: url,
                data: { project_id: ProjectId },
                dataType: "json",
                success: function (data, status, jqXHR) {
                    if (data.length > 0) {
                        //console.log(data);
                        var rows = '';

                        var count = 0;
                        jQuery.each(data, function (i, item) {
                            ++count;
                            rows += '<tr><td scope="row" class="bold">' + count + '</td><td>' + item.cropName + '</td><td>' + item.area + '</td><td class="text-center"><button onclick="javascript:EditIca(' + item.irrigatedCropId + ', '+item.projectId+');" type="button" class="btn btn-success waves-effect waves-light"><i class="mdi mdi-lead-pencil"></i></button> <button onclick="javascript:Delete(' + item.irrigatedCropId + ', '+item.projectId+', \'CcModPrjIrrigCropAreaDetail\'); GetIrrigatedCropAreaData();" type="button" class="btn btn-danger waves-effect waves-light"><i class="mdi mdi-delete"></i></button></td></tr>';
                        });

                        jQuery("#tbodyIrrigatedCropArea").html(rows);
                    } else {
                        jQuery("#tbodyIrrigatedCropArea").html('<tr><td colspan="4" class="text-center text-red"><div class="alert alert-warning" role="alert"> Sorry, no data found </div></td></tr>');
                    }
                }, error: function (jqXHR, exception) {
                    var errorMsg = AjaxErrorHandle(jqXHR, exception);
                    jQuery("#tbodyIrrigatedCropArea").html('<tr><td colspan="4" class="text-center text-red"><div class="alert alert-danger" role="alert">' + errorMsg + '</div></td></tr>');
                }
            });
        }

        function EditIca(id, projectId) {
            var url = '@Url.Action("gsica", "form")';
            jQuery.ajax({
                type: "GET",
                url: url,
                data: { id: id, projectId: projectId },
                dataType: "json",
                success: function (data, status, jqXHR) {
                    if (data.irrigatedCropId != '') {
                        //console.log('Single Irrigated Crop Area');
                        //console.log(data);

                        SetHiddenValue('IrrigatedCropId', data.irrigatedCropId);
                        SetTextValue('CropName', data.cropName);
                        SetTextValue('Area', data.area);
                    }
                }, error: function (jqXHR, exception) {
                    var errorMsg = AjaxErrorHandle(jqXHR, exception);
                    Notification('error', 'Error Occured', errorMsg);
                }
            });
        }
        //end

        //start :: Ground Water Depth
        jQuery("#btnSaveGWDNOW").click(function () {
	        var GrndWtrDepthDetailId = GetHiddenValue('GrndWtrDepthDetailId');
	        var ProjectId = GetHiddenValue('ProjectId');
	        var GWDMonth = jQuery("#ddlGWDMonth option:selected").val();
	        var WaterDepth = jQuery("#txtGWDepth").val();

	        if (GWDMonth != '') {
		        var ProjectId = GetHiddenValue('ProjectId');

		        var gwdDetail = {
			        "GrndWtrDepthDetailId": GrndWtrDepthDetailId,
			        "ProjectId": ProjectId,
			        "MonthId": GWDMonth,
			        "WaterDepth": WaterDepth
		        };

		        var url = '@Url.Action("gwdds", "form")';
		        jQuery.ajax({
			        type: "POST",
			        url: url,
			        data: { _gedd: gwdDetail },
			        dataType: "json",
			        success: function (data, status, jqXHR) {
				        if (data.status == 'success') {
					        Notification('success', 'Success', data.message);
					        GetGWDNOWData();
					        ClearGWDNOW();
				        } else {
					        Notification('error', 'Saving Error', data.message);
				        }
			        }, error: function (jqXHR, exception) {
				        var errorMsg = AjaxErrorHandle(jqXHR, exception);
				        Notification('error', 'Error Occured', errorMsg);
			        }
		        });
	        } else {
		        Notification('warning', 'Required Field', 'Please select a month!');
                jQuery("#ddlGWDMonth").focus();
	        }
        });

        jQuery("#btnClearGWDNOW").click(function () {
	        ClearGWDNOW();
        });

        function ClearGWDNOW() {
	        jQuery("#GrndWtrDepthDetailId").val('');
	        jQuery("#ddlGWDMonth").val('');
	        jQuery("#txtGWDepth").val('');
        }

        function GetGWDNOWData() {
	        var ProjectId = GetHiddenValue('ProjectId');
	        var url = '@Url.Action("get_gwdd", "form")';

	        jQuery.ajax({
		        type: "GET",
		        url: url,
		        data: { project_id: ProjectId },
		        dataType: "json",
		        success: function (data, status, jqXHR) {
			        if (data.length > 0) {
				        //console.log(data);
				        var rows = '';

				        var count = 0;
				        jQuery.each(data, function (i, item) {
					        ++count;
					        rows += '<tr><td>' + item.month + '</td><td>' + item.waterDepth + '</td><td class="text-center"><button title="' + item.grndWtrDepthDetailId + '" onclick="javascript:EditGWDNOW(' + item.grndWtrDepthDetailId + ', ' + item.projectId + ');" type="button" class="btn btn-success waves-effect waves-light"><i class="mdi mdi-lead-pencil"></i></button> <button onclick="javascript:Delete(' + item.grndWtrDepthDetailId + ', ' + item.projectId + ', \'CcModPrjGrndWtrDepthDetail\'); GetGWDNOWData();" type="button" class="btn btn-danger waves-effect waves-light"><i class="mdi mdi-delete"></i></button></td></tr>';
				        });

				        jQuery("#tbdGWDNOW").html(rows);
			        } else {
				        jQuery("#tbdGWDNOW").html('<tr><td colspan="3" class="text-center text-red"><div class="alert alert-warning" role="alert"> Sorry, no data found </div></td></tr>');
			        }
		        }, error: function (jqXHR, exception) {
			        var errorMsg = AjaxErrorHandle(jqXHR, exception);
			        jQuery("#tbdGWDNOW").html('<tr><td colspan="3" class="text-center text-red"><div class="alert alert-danger" role="alert">' + errorMsg + '</div></td></tr>');
		        }
	        });
        }

        function EditGWDNOW(id, projectId) {
	        var url = '@Url.Action("ggwdd", "form")';
	        jQuery.ajax({
		        type: "GET",
		        url: url,
		        data: { id: id, projectId: projectId },
		        dataType: "json",
		        success: function (data, status, jqXHR) {
			        if (data.hydroSysDetailId != '') {
				        //console.log(data);

				        SetHiddenValue('GrndWtrDepthDetailId', data.grndWtrDepthDetailId);
				        jQuery("#ddlGWDMonth").val(data.monthId);
				        SetTextValue('txtGWDepth', data.waterDepth);
			        }
		        }, error: function (jqXHR, exception) {
			        var errorMsg = AjaxErrorHandle(jqXHR, exception);
			        Notification('error', 'Error Occured', errorMsg);
		        }
	        });
        }
        //end

        //start :: Technical Information JS
        jQuery("#btnSaveTechInfo").click(function () {
            var FinalObj = [];
            var hydroRegions = [],
                bdp2100HotSpot = [],
				purposeOfWaterUse = [],
				categoryOfAquifer = [],
				groundWaterQuality = [],
				soilTypeDetail = [];

            var ProjectId = GetHiddenValue('ProjectId');

            jQuery.each(jQuery("input[name='hydrological_region']:checked"), function () {
                var _hr = {
                    "PrjHydroRegionDetailId": 0,
                    "ProjectId": ProjectId,
                    "HydroRegionId": jQuery(this).val()
                };

                hydroRegions.push(_hr);
            });

            jQuery.each(jQuery("input[name='bdp2100_hot_spot']:checked"), function () {
                var _hsp = {
                    "HotSpotDetailId": 0,
                    "ProjectId": ProjectId,
                    "DeltaPlanHotSpotId": jQuery(this).val()
                };

                bdp2100HotSpot.push(_hsp);
            });

			jQuery.each(jQuery("input[name='PurposeOfWaterUseId']:checked"), function () {
                var _powu = {
                    "PurposeOfWaterUseDetailId": 0,
                    "ProjectId": ProjectId,
                    "PurposeOfWaterUseId": jQuery(this).val()
                };

                purposeOfWaterUse.push(_powu);
            });

			jQuery.each(jQuery("input[name='CategoryOfAquiferId']:checked"), function () {
                var _coa = {
                    "CategoryOfAquiferDetailId": 0,
                    "ProjectId": ProjectId,
                    "CategoryOfAquiferId": jQuery(this).val()
                };

                categoryOfAquifer.push(_coa);
            });

			jQuery.each(jQuery("input[name='GroundWaterQualityId']:checked"), function () {
                var _gwq = {
                    "GroundWaterQualityDetailId": 0,
                    "ProjectId": ProjectId,
                    "GroundWaterQualityId": jQuery(this).val()
                };

                groundWaterQuality.push(_gwq);
            });

			jQuery.each(jQuery("input[name='SoilTypeId']:checked"), function () {
                var _gwq = {
                    "SoilTypeDetailId": 0,
                    "ProjectId": ProjectId,
                    "SoilTypeId": jQuery(this).val()
                };

                soilTypeDetail.push(_gwq);
            });

            //start :: technical info submission validation
            if (hydroRegions.length == 0) {
                Notification('warning', 'Required', 'Please select Hydrological Region!');
                return;
            }

            if (bdp2100HotSpot.length == 0) {
                Notification('warning', 'Required', 'Please select Bangladesh Delta Plan 2100 Hot Spot!');
                return;
            }
            //end

            var ProjectCommonDetail = {
                "ProjectId": ProjectId,
                "AnnualRainFallLast1Year": GetTextValue('AnnualRainFallLast1Year'),
                "AnnualRainFallLast2Years": GetTextValue('AnnualRainFallLast2Years'),
                "AnnualRainFallLast3Years": GetTextValue('AnnualRainFallLast3Years'),
                "AnnualRainFallLast4Years": GetTextValue('AnnualRainFallLast4Years'),
                "AnnualRainFallLast5Years": GetTextValue('AnnualRainFallLast5Years')
                //"IssueChallageProblem": GetTextValue('IssueChallageProblem'),
                //"YesNoStakeId": GetRadioValue('YesNoStakeId'),
                //"DiscussWithStakeApplicantCmt": GetTextValue('DiscussWithStakeApplicantCmt'),
                //"DiscussWithStakeAuthorityCmt": GetTextValue('DiscussWithStakeAuthorityCmt'),
                //"DiscussWithStakePosFeedback": GetTextValue('DiscussWithStakePosFeedback'),
                //"DiscussWithStakeNegFeedback": GetTextValue('DiscussWithStakeNegFeedback'),
                //"DiscussWithStakeParticipntLst": , //file
                //"DiscussWithStakeMeetingMin": , //file
                //"AnalyzeOptYesNoId": GetRadioValue('AnalyzeOptYesNoId'),
                //"AnalyzeOptionsApplicantCmt": GetTextValue('AnalyzeOptionsApplicantCmt'),
                //"AnalyzeOptionsAuthorityCmt": GetTextValue('AnalyzeOptionsAuthorityCmt'),
                //"EnvAndSocialYesNoId": GetRadioValue('EnvAndSocialYesNoId'),
                //"EnvAndSocialApplicantCmt": GetTextValue('EnvAndSocialApplicantCmt'),
                //"EnvAndSocialAuthorityCmt": GetTextValue('EnvAndSocialAuthorityCmt')
            };

            var Project312IndvDetail = {
                "Project312IndvId": 0,
				"ProjectId": ProjectId,
				"WellDescription": GetTextValue('WellDescription'),
				"TypeProposedWellId": GetRadioValue('TypeProposedWellId'),
				"StatusOfAquifer": GetTextValue('StatusOfAquifer'),
				"PotGrndWtrRechargeId": GetRadioValue('PotGrndWtrRechargeId'),
				"WaterWithdrawalTarget": GetTextValue('WaterWithdrawalTarget'),
				"WaterWithdrawalProcedure": GetTextValue('WaterWithdrawalProcedure'),
				"UseOfMeterToMeasure": GetTextValue('UseOfMeterToMeasure'),
				"PumpCapacity": GetTextValue('PumpCapacity'),
				"WellDepth": GetTextValue('WellDepth'),
				"PipeDiameterOfWell": GetTextValue('PipeDiameterOfWell'),
				"WaterWithdrawalQtyDay": GetTextValue('WaterWithdrawalQtyDay'),
				"RechargeTime": GetTextValue('RechargeTime'),
				"WaterUseConsumptionId": GetRadioValue('WaterUseConsumptionId'),
				"DischargePoint": GetTextValue('DischargePoint'),
				"DistanceProposedExtractWell": GetTextValue('DistanceProposedExtractWell'),
				"Place": GetTextValue('Place'),
				"WellType": GetTextValue('WellType'),
				"Capacity": GetTextValue('Capacity'),
				"DiameterOfWell": GetTextValue('DiameterOfWell'),
				"DepthOfWell": GetTextValue('DepthOfWell'),
				"RecuperationHours": GetTextValue('RecuperationHours'),
				"RiverKhalName": GetTextValue('RiverKhalName'),
				"NearestSurfWaterAvailDistance": GetTextValue('NearestSurfWaterAvailDistance'),
				"WaterLevel": GetTextValue('WaterLevel'),
				"Discharge": GetTextValue('Discharge'),
				"CommandAreaOfWell": GetTextValue('CommandAreaOfWell'),
				"OtherAvailableSource": GetTextValue('OtherAvailableSource'),
				"FutureAvailability": GetTextValue('FutureAvailability'),
				"CultivableCrops": GetTextValue('CultivableCrops'),
				"AnnualRequirementOfGW": GetTextValue('AnnualRequirementOfGW'),
				"CropProduction": GetTextValue('CropProduction')
            };

            var _Form312FinalObj = {
                "CommonDetail": ProjectCommonDetail,
                "Project312Indv": Project312IndvDetail,
                "HydroRegion": hydroRegions,
                "BDP2100HotSpot": bdp2100HotSpot,
				"PurposeOfWaterUseDetail": purposeOfWaterUse,
				"CategoryOfAquiferDetail": categoryOfAquifer,
				"GroundWaterQualityDetail": groundWaterQuality,
				"SoilTypeDetail": soilTypeDetail,
            }

            console.log(_Form312FinalObj);

            var url = '@Url.Action("f312tiotos", "form")';
            jQuery.ajax({
                type: "POST",
                url: url,
                data: { _form312TechInfo: _Form312FinalObj },
                dataType: "json",
                success: function (data, status, jqXHR) {
                    if (data.status == 'success') {
                        Notification('success', 'Success', data.message);
                    } else {
                        Notification('error', 'Saving Error', data.message);
                    }

                    SetHiddenValue('Project312IndvId', data.id);
                }, error: function (jqXHR, exception) {
                    var errorMsg = AjaxErrorHandle(jqXHR, exception);
                    Notification('error', 'Error Occured', errorMsg);
                }
            });
        });

        jQuery("#btnClearTechInfo").click(function () {
            Swal.fire({
                title: "Are you sure?",
                text: "All data will be cleared from Technical Information panel!",
                type: "warning",
                allowEscapeKey: false,
                allowOutsideClick: false,
                showCancelButton: !0,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Sure"
            }).then(function (t) {
                if (t.value == true) {
                    $('#frmTechnicalInfo').trigger("reset");
                }
            });
        });
        //end

        //start :: Deed Obligatory JS
        jQuery("#btnSaveDeed").click(function () {
            var _finalDeedObj = [];
            var nwpArticles = [], prjCompatNWMP = [], sdgGoals = [],
                sdgIndicators = [], dp2100Goals = [], gpwmGroupType = [];

            var ProjectId = GetHiddenValue('ProjectId');
            var Project312IndvId = GetHiddenValue('Project312IndvId');

            jQuery.each(jQuery("input[name='NationalWaterPolicyArticleId']:checked"), function () {
                var _nwpa = {
                    "PrjCompatNWPId": 0,
                    "ProjectId": ProjectId,
                    "NationalWaterPolicyArticleId": jQuery(this).val()
                };

                nwpArticles.push(_nwpa);
            });

            jQuery.each(jQuery("input[name='PrjCompatNWMPId']:checked"), function () {
                var _nwmpa = {
                    "PrjCompatNWMPId": 0,
                    "ProjectId": ProjectId,
                    "NWMPProgrammeId": jQuery(this).val()
                };

                prjCompatNWMP.push(_nwmpa);
            });

            jQuery.each(jQuery("input[name='SDGGoalId']:checked"), function () {
                var _sdg = {
                    "SDGCompabilityId": 0,
                    "ProjectId": ProjectId,
                    "SDGGoalId": jQuery(this).val()
                };

                sdgGoals.push(_sdg);
            });

            jQuery.each(jQuery("input[name='SDGIndicatorId']:checked"), function () {
                var _sdgi = {
                    "SDGIndicatorDetailId": 0,
                    "ProjectId": ProjectId,
                    "SDGIndicatorId": jQuery(this).val()
                };

                sdgIndicators.push(_sdgi);
            });

            jQuery.each(jQuery("input[name='DeltPlan2100GoalId']:checked"), function () {
                var _dp2100g = {
                    "DeltaGoalDetailId": 0,
                    "ProjectId": ProjectId,
                    "DeltPlan2100GoalId": jQuery(this).val()
                };

                dp2100Goals.push(_dp2100g);
            });

            jQuery.each(jQuery("input[name='GPWMGroupTypeId']:checked"), function () {
                var _gpwmg = {
                    "GPWMGroupTypeDetailId": 0,
                    "ProjectId": ProjectId,
                    "GPWMGroupTypeId": jQuery(this).val()
                };

                gpwmGroupType.push(_gpwmg);
            });

            var ProjectCommonDetail = {
                "ProjectId": ProjectId,
                "CompatNWPYesNoId": GetRadioValue('CompatNWPYesNoId'),
                "CompatibilityNWPApplicantCmt": GetTextValue('CompatibilityNWPApplicantCmt'),
                "CompatibilityNWPAuthorityCmt": GetTextValue('CompatibilityNWPAuthorityCmt'),
                //CompatibilityNWPDocLink //file
                "NWMPCompatYesNoId": GetRadioValue('NWMPCompatYesNoId'),
                "NWMPApplicantCmt": GetTextValue('NWMPApplicantCmt'),
                "NWMPAuthorityCmt": GetTextValue('NWMPAuthorityCmt'),
                //NWMPDocLink //file
                "FYPYesNoId": GetRadioValue('FYPYesNoId'),
                "FYPApplicantCmt": GetTextValue('FYPApplicantCmt'),
                "FYPAuthorityCmt": GetTextValue('FYPAuthorityCmt'),
                "SDGYesNoId": GetRadioValue('SDGYesNoId'),
                "SDGApplicantCmt": GetTextValue('SDGApplicantCmt'),
                "SDGAuthorityCmt": GetTextValue('SDGAuthorityCmt'),
                //SDGDocLink //file
                "DeltaPlanYesNoId": GetRadioValue('DeltaPlanYesNoId'),
                "DeltaPlan2100ApplicantCmt": GetTextValue('DeltaPlan2100ApplicantCmt'),
                "DeltaPlan2100AuthorityCmt": GetTextValue('DeltaPlan2100AuthorityCmt'),
                //DeltaPlan2100DocLink //file
                "CostalZoneYesNoId": GetRadioValue('CostalZoneYesNoId'),
                "CostalZoneApplicantCmt": GetTextValue('CostalZoneApplicantCmt'),
                "CostalZoneAuthorityCmt": GetTextValue('CostalZoneAuthorityCmt'),
                //CostalZoneDocLink //file.
                "AgriculturalYesNoId": GetRadioValue('AgriculturalYesNoId'),
                "AgriApplicantCmt": GetTextValue('AgriApplicantCmt'),
                "AgriAuthorityCmt": GetTextValue('AgriAuthorityCmt'),
                //AgriDocLink //file
                "FisheriesYesNoId": GetRadioValue('FisheriesYesNoId'),
                "FisheriesApplicantCmt": GetTextValue('FisheriesApplicantCmt'),
                "FisheriesAuthorityCmt": GetTextValue('FisheriesAuthorityCmt'),
                //FisheriesDocLink //file
                "IWRMYesNoId": GetRadioValue('IWRMYesNoId'),
                "IWRMApplicantCmt": GetTextValue('IWRMApplicantCmt'),
                "IWRMAuthorityCmt": GetTextValue('IWRMAuthorityCmt'),
                "GPWMYesNoId": GetRadioValue('GPWMYesNoId'),
                "GPWMApplicantCmt": GetTextValue('GPWMApplicantCmt'),
                "GPWMAuthorityCmt": GetTextValue('GPWMAuthorityCmt'),
                "FeasibilityYesNoId": GetRadioValue('FeasibilityYesNoId'),
                "FeasibilityApplicantCmt": GetTextValue('FeasibilityApplicantCmt'),
                "FeasibilityAuthorityCmt": GetTextValue('FeasibilityAuthorityCmt'),
                "SocialIssuesYesNoId": GetRadioValue('SocialIssuesYesNoId'),
                "SocialIssuesApplicantCmt": GetTextValue('SocialIssuesApplicantCmt'),
                "SocialIssuesAuthorityCmt": GetTextValue('SocialIssuesAuthorityCmt')
            };

            //var Project312IndvDetail = {
            //    "Project312IndvId": Project312IndvId,
            //    "ProjectId": ProjectId,
            //    "DuplicatYesNoId": GetRadioValue('DuplicatYesNoId'),
            //    "DuplicationApplicantComments": GetTextValue('DuplicationApplicantComments'),
            //    "DuplicationAuthorityComments": GetTextValue('DuplicationAuthorityComments')
            //};

            var _finalDeedObj = {
                "CommonDetail": ProjectCommonDetail,
                //"Project312Indv": Project312IndvDetail,
                "CompatNWPDetail": nwpArticles,
                "CompatNWMPDetail": prjCompatNWMP,
                "CompatSDGDetail": sdgGoals,
                "CompatSDGIndiDetail": sdgIndicators,
                "BDP2100GoalDetail": dp2100Goals,
                "GPWMGroupTypeDetail": gpwmGroupType
            }

            console.log(_finalDeedObj); //jQuery('#ProjectId').val()

            var url = '@Url.Action("f312dootos", "form")';
            jQuery.ajax({
                type: "POST",
                url: url,
                data: { _form312DeedObli: _finalDeedObj },
                dataType: "json",
                success: function (data, status, jqXHR) {
                    if (data.status == 'success') {
                        Notification('success', 'Success', data.message);
                        Swal.fire("Success", data.message, data.status);
                    } else {
                        Notification('error', 'Saving Error', data.message);
                        Swal.fire("Saving Error", data.message, data.status);
                    }
                }, error: function (jqXHR, exception) {
                    var errorMsg = AjaxErrorHandle(jqXHR, exception);
                    Notification('error', 'Error Occured', errorMsg);
                    Swal.fire("Error Occured", errorMsg, 'error');
                }
            });
        });

        jQuery("#btnClearDeed").click(function () {
            Swal.fire({
                title: "Are you sure?",
                text: "You won't be able to revert this!",
                type: "warning",
                allowEscapeKey: false,
                allowOutsideClick: false,
                showCancelButton: !0,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Sure"
            }).then(function (t) {
                t.value && Swal.fire("Cleared!", "Your entry data has been cleared successfully.", "success")
            });
        });
        //end

        //start :: Administrative JS
        jQuery("#btnSaveAdministrative").click(function () {
            var _recDetail = {
                "ProjectId": GetHiddenValue('ProjectId'),
                "NocTypeId": jQuery('#NocTypeId option:selected').val(),
                "PaymentMethodId": jQuery('#PaymentMethodId option:selected').val(),
                "PaymentDocNumber": GetTextValue('PaymentDocNumber'),
                "PaidAmount": GetTextValue('PaidAmount'),
				"PaymentDate": GetTextValue('PaymentDate'),
                "RecommendationId": jQuery('#RecommendationId option:selected').val(),
                "RecommendationComment": GetTextValue('RecommendationComment')
            };

            //console.log(_recDetail);

            var url = '@Url.Action("afrds", "form")';
            jQuery.ajax({
                type: "POST",
                url: url,
                data: { _recDetail: _recDetail },
                dataType: "json",
                success: function (data, status, jqXHR) {
                    if (data.status == 'success') {
                        Notification('success', 'Success', data.message);
                    } else {
                        Notification('error', 'Saving Error', data.message);
                    }
                }, error: function (jqXHR, exception) {
                    var errorMsg = AjaxErrorHandle(jqXHR, exception);
                    Notification('error', 'Error Occured', errorMsg);
                }
            });
        });

        jQuery("#btnClearAdministrative").click(function () {
            Swal.fire({
                title: "Are you sure?",
                text: "You won't be able to revert this!",
                type: "warning",
                allowEscapeKey: false,
                allowOutsideClick: false,
                showCancelButton: !0,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Sure"
            }).then(function (t) {
                t.value && Swal.fire("Cleared!", "Your entry data has been cleared successfully.", "success")
            });
        });
        //end

        //start :: Final Submission
        jQuery("#btnFinalSubmit").click(function () {
            Swal.fire({
                title: "Are you sure?",
                text: "Your application will be submitted to higher authority for approval. \nYou can not edit or update anything after final submission.",
                type: "warning",
                allowEscapeKey: false,
                allowOutsideClick: false,
                showCancelButton: !0,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Yes, Submit"
            }).then(function (t) {
                if (t.value == true) {
                    var projectId = GetHiddenValue('ProjectId');

                    var url = '@Url.Action("ipsw", "form")';
                    jQuery.ajax({
                        type: "POST",
                        url: url,
                        data: { id: projectId },
                        dataType: "json",
                        success: function (data, status, jqXHR) {
                            if (data.message != '') {
                                Notification(data.status, data.title, data.message);
                                Swal.fire(data.title, data.message, data.status);
                            }

                            //if (data.status == 'success') {
                            //    Notification('success', 'Success', data.message);
                            //    Swal.fire("Success", data.message, data.status);
                            //} else {
                            //    Notification('error', 'Deletion Error', data.message);
                            //    Swal.fire("Submission Error", data.message, "error");
                            //}
                        }, error: function (jqXHR, exception) {
                            var errorMsg = AjaxErrorHandle(jqXHR, exception);
                            Notification('error', 'Error Occured', errorMsg);
                            Swal.fire('Error Occured', errorMsg, 'error');
                        }
                    });
                }
            });
        });
        //end

        //region Get Set
        function GetTextValue(control) {
            return jQuery('#' + control).val();
        }

        function SetTextValue(control, val) {
            return jQuery('#' + control).val(val);
        }

        function GetHiddenValue(control) {
            return jQuery('#' + control).val();
        }

        function SetHiddenValue(control, val) {
            return jQuery('#' + control).val(val);
        }

        function SetDropdownValue(control, val) {
            return jQuery('#' + control).val(val);
        }

        function GetRadioValue(control) {
            var value = $("input[name='" + control + "']:checked").val();
            return (value == undefined || value == '') ? 0 : value;
        }
        //endregion

        function GeneralInfoSave() {
            //region block 1
            var pcd = {
                "ProjectId": GetHiddenValue('ProjectId'),
                "UserId": 0,
                "AppSubmissionId": GetHiddenValue('AppSubmissionId'),
                "ApplicationStateId": GetHiddenValue('ApplicationStateId'),
                "ApprovalStatusId": GetHiddenValue('ApprovalStatusId'),
                "ProjectTypeId": jQuery('#ProjectTypeId').val(),
                "ProjectName": jQuery('#ProjectName').val(),
                "BackgroundAndRationale": jQuery('#BackgroundAndRationale').val(),
                "ProjectTarget": jQuery('#ProjectTarget').val(),
                "ProjectObjective": jQuery('#ProjectObjective').val(),
                "ProjectActivity": jQuery('#ProjectActivity').val(),
                "ProjectStartDate": jQuery('#ProjectStartDate').val(),
                "ProjectCompletionDate": jQuery('#ProjectCompletionDate').val(),
                "ProjectEstimatedCost": jQuery('#ProjectEstimatedCost').val()
            };

            //console.log(pcd);

            var url = '@Url.Action("gis", "form")';
            jQuery.ajax({
                type: "POST",
                url: url,
                data: { _pcd: pcd },
                dataType: "json",
                success: function (data, status, jqXHR) {
                    if (data.status == 'success') {
                        SetHiddenValue('ProjectId', data.id);

                        //SetHiddenValue('AppSubmissionId', data.id);
                        //SetHiddenValue('ApplicationStateId', data.id);
                        //SetHiddenValue('ApprovalStatusId', data.id);

                        Notification('success', 'Success', data.message);
                    } else {
                        Notification('error', 'Saving Error', data.message);
                    }
                }, error: function (jqXHR, exception) {
                    var errorMsg = AjaxErrorHandle(jqXHR, exception);
                    Notification('error', 'Error Occured', errorMsg);
                }
            });
            //endregion block 1
        }

        function GetAdminData(code, type) {
            var lang = '@language';
            var url = '@Url.Action("gab", "common")';

            jQuery.ajax({
                type: "GET",
                url: url,
                data: { code: code, type: type },
                dataType: "json",
                success: function (data, status, jqXHR) {
                    //console.log(data);

                    if (lang == '1') {
                        jQuery("#UpazilaGeoCode").html('<option value="">বাছাই করুন...</option>');
                        jQuery("#UnionGeoCode").html('<option value="">বাছাই করুন...</option>');
                    } else {
                        jQuery("#UpazilaGeoCode").html('<option value="">Choose...</option>');
                        jQuery("#UnionGeoCode").html('<option value="">Choose...</option>');
                    }

                    if (type == 'upz') {
                        //jQuery("#UpazilaGeoCode").html('<option value="">Choose...</option>');

                        if (lang == '1') {
                            jQuery.each(data, function (i, item) {
                                var content = '<option value="' + item.code + '">' + item.ab_name_bn + '</option>';
                                jQuery("#UpazilaGeoCode").append(content);
                            });
                        } else {
                            jQuery.each(data, function (i, item) {
                                var content = '<option value="' + item.code + '">' + item.ab_name + '</option>';
                                jQuery("#UpazilaGeoCode").append(content);
                            });
                        }
                    } else if (type == 'uni') {
                        //jQuery("#UnionGeoCode").html('<option value="">Choose...</option>');

                        if (lang == '1') {
                            jQuery.each(data, function (i, item) {
                                var content = '<option value="' + item.code + '">' + item.ab_name_bn + '</option>';
                                jQuery("#UnionGeoCode").append(content);
                            });
                        } else {
                            jQuery.each(data, function (i, item) {
                                var content = '<option value="' + item.code + '">' + item.ab_name + '</option>';
                                jQuery("#UnionGeoCode").append(content);
                            });
                        }
                    }
                }, error: function (jqXHR, exception) {
                    var errorMsg = AjaxErrorHandle(jqXHR, exception);
                    Notification('error', 'Error Occured', errorMsg);
                }
            });
        }

        function GetAdminData(code, type, val) {
            var lang = '@language';
            var url = '@Url.Action("gab", "common")';

            jQuery.ajax({
                type: "GET",
                url: url,
                data: { code: code, type: type },
                dataType: "json",
                success: function (data, status, jqXHR) {
                    var content = '';

                    if (type == 'upz') {
                        if (lang == '1') {
                            jQuery("#UpazilaGeoCode").html('<option value="">বাছাই করুন...</option>');

                            jQuery.each(data, function (i, item) {
                                if (val == item.code)
                                    content = '<option value="' + item.code + '" selected>' + item.ab_name_bn + '</option>';
                                else
                                    content = '<option value="' + item.code + '">' + item.ab_name_bn + '</option>';

                                jQuery("#UpazilaGeoCode").append(content);
                            });
                        } else {
                            jQuery("#UpazilaGeoCode").html('<option value="">Choose...</option>');

                            jQuery.each(data, function (i, item) {
                                if (val == item.code)
                                    content = '<option value="' + item.code + '" selected>' + item.ab_name + '</option>';
                                else
                                    content = '<option value="' + item.code + '">' + item.ab_name + '</option>';

                                jQuery("#UpazilaGeoCode").append(content);
                            });

                            //jQuery("#UpazilaGeoCode").val(val);
                        }
                    } else if (type == 'uni') {
                        if (lang == '1') {
                            jQuery("#UnionGeoCode").html('<option value="">বাছাই করুন...</option>');

                            jQuery.each(data, function (i, item) {
                                if (val == item.code)
                                    content = '<option value="' + item.code + '" selected>' + item.ab_name_bn + '</option>';
                                else
                                    content = '<option value="' + item.code + '">' + item.ab_name_bn + '</option>';

                                jQuery("#UnionGeoCode").append(content);
                            });
                        } else {
                            jQuery("#UnionGeoCode").html('<option value="">Choose...</option>');

                            jQuery.each(data, function (i, item) {
                                if (val == item.code)
                                    content = '<option value="' + item.code + '" selected>' + item.ab_name + '</option>';
                                else
                                    content = '<option value="' + item.code + '">' + item.ab_name + '</option>';

                                jQuery("#UnionGeoCode").append(content);
                            });
                        }

                        //jQuery("#UnionGeoCode").val(val);
                    }
                }, error: function (jqXHR, exception) {
                    var errorMsg = AjaxErrorHandle(jqXHR, exception);
                    Notification('error', 'Error Occured', errorMsg);
                }
            });
        }

        function EditLoc(id, projectId) {
            var url = '@Url.Action("gsl", "form")';
            jQuery.ajax({
                type: "GET",
                url: url,
                data: { id: id, projectId: projectId },
                dataType: "json",
                success: function (data, status, jqXHR) {
                    if (data.locationId != '') {
                        //console.log(data);

                        SetHiddenValue('LocationId', data.locationId);
                        jQuery("#DistrictGeoCode option[value=" + data.districtGeoCode + "]").prop('selected', true);
                        GetAdminData(data.districtGeoCode, 'upz', data.upazilaGeoCode);
                        GetAdminData(data.upazilaGeoCode, 'uni', data.unionGeoCode);
                        //jQuery("#DistrictGeoCode").val(data.districtGeoCode).attr('selected', 'selected');
                        SetTextValue('Latitude', data.latitude);
                        SetTextValue('Longitude', data.longitude);
                    }
                }, error: function (jqXHR, exception) {
                    var errorMsg = AjaxErrorHandle(jqXHR, exception);
                    Notification('error', 'Error Occured', errorMsg);
                }
            });
        }

        function BindData() {
            var projectId = '@ViewBag.ProjectCommonDetail.ProjectId';

            if (projectId != '' && projectId != 0) {
                console.log('Form 312 ViewBag.ProjectCommonDetail.ProjectId: ' + projectId);

                //General Info
                SetHiddenValue('ProjectId', projectId);
                SetHiddenValue('Project312IndvId', '@ViewBag.ProjectIndvDetail312.Project312IndvId');
                SetHiddenValue('UserId', '@ViewBag.ProjectCommonDetail.UserId');

                if('@ViewBag.ProjectCommonDetail.ProjectTypeId' != '' && '@Html.Raw(ViewBag.ProjectCommonDetail.ProjectTypeId)' != 0)
                    SetHiddenValue('ProjectTypeId', '@ViewBag.ProjectCommonDetail.ProjectTypeId');

                var pn = '@Html.Raw(ViewBag.ProjectCommonDetail.ProjectName)';
                SetTextValue('ProjectName', pn);
                SetTextValue('BackgroundAndRationale', '@Html.Raw(ViewBag.ProjectCommonDetail.BackgroundAndRationale)');
                SetTextValue('ProjectTarget', '@Html.Raw(ViewBag.ProjectCommonDetail.ProjectTarget)');
                SetTextValue('ProjectObjective', '@Html.Raw(ViewBag.ProjectCommonDetail.ProjectObjective)');
                SetTextValue('ProjectActivity', '@Html.Raw(ViewBag.ProjectCommonDetail.ProjectActivity)');
                SetTextValue('ProjectStartDate', '@Html.Raw(ViewBag.ProjectCommonDetail.ProjectStartDate)');
                SetTextValue('ProjectCompletionDate', '@Html.Raw(ViewBag.ProjectCommonDetail.ProjectCompletionDate)');
                SetTextValue('ProjectEstimatedCost', '@Html.Raw(ViewBag.ProjectCommonDetail.ProjectEstimatedCost)');

                //technology bind start
                var hrs = JSON.parse('@Html.Raw(Json.Serialize(ViewBag.HydroRegionDetail))');
                jQuery.each(hrs, function (i, item) {
                    $(":checkbox[name='hydrological_region'][value='" + item.hydroRegionId + "']").attr('checked', true);
                });

                var hsd = JSON.parse('@Html.Raw(Json.Serialize(ViewBag.BDP2100HotSpotDetail))');
                jQuery.each(hsd, function (i, item) {
                    $(":checkbox[name='bdp2100_hot_spot'][value='" + item.deltaPlanHotSpotId + "']").attr('checked', true);
                });

                //rony
				var pwud = JSON.parse('@Html.Raw(Json.Serialize(ViewBag.PurposeOfWaterUseDetail))');
                jQuery.each(pwud, function (i, item) {
                    $(":checkbox[name='PurposeOfWaterUseId'][value='" + item.purposeOfWaterUseId + "']").attr('checked', true);
                });

				var coad = JSON.parse('@Html.Raw(Json.Serialize(ViewBag.CategoryOfAquiferDetail))');
                jQuery.each(coad, function (i, item) {
                    $(":checkbox[name='CategoryOfAquiferId'][value='" + item.categoryOfAquiferId + "']").attr('checked', true);
                });

				var gwqd = JSON.parse('@Html.Raw(Json.Serialize(ViewBag.GroundWaterQualityDetail))');
                jQuery.each(gwqd, function (i, item) {
                    $(":checkbox[name='GroundWaterQualityId'][value='" + item.groundWaterQualityId + "']").attr('checked', true);
                });

				var stdt = JSON.parse('@Html.Raw(Json.Serialize(ViewBag.SoilTypeDetail))');
                jQuery.each(stdt, function (i, item) {
                    $(":checkbox[name='SoilTypeId'][value='" + item.soilTypeId + "']").attr('checked', true);
                });

                SetTextValue('AnnualRainFallLast1Year', '@Html.Raw(ViewBag.ProjectCommonDetail.AnnualRainFallLast1Year)');
                SetTextValue('AnnualRainFallLast2Years', '@Html.Raw(ViewBag.ProjectCommonDetail.AnnualRainFallLast2Years)');
                SetTextValue('AnnualRainFallLast3Years', '@Html.Raw(ViewBag.ProjectCommonDetail.AnnualRainFallLast3Years)');
                SetTextValue('AnnualRainFallLast4Years', '@Html.Raw(ViewBag.ProjectCommonDetail.AnnualRainFallLast4Years)');
                SetTextValue('AnnualRainFallLast5Years', '@Html.Raw(ViewBag.ProjectCommonDetail.AnnualRainFallLast5Years)');

				SetTextValue('WellDescription', '@Html.Raw(ViewBag.ProjectIndvDetail312.WellDescription)');

				var TypeProposedWellId = '@Html.Raw(ViewBag.ProjectIndvDetail312.TypeProposedWellId)';
				if(TypeProposedWellId != '')
					$(":radio[name='TypeProposedWellId'][value='" + TypeProposedWellId + "']").attr('checked', true);

				SetTextValue('StatusOfAquifer', '@Html.Raw(ViewBag.ProjectIndvDetail312.StatusOfAquifer)');

				var PotGrndWtrRechargeId = '@Html.Raw(ViewBag.ProjectIndvDetail312.PotGrndWtrRechargeId)';
				if(PotGrndWtrRechargeId != '')
					$(":radio[name='PotGrndWtrRechargeId'][value='" + PotGrndWtrRechargeId + "']").attr('checked', true);

				SetTextValue('WaterWithdrawalTarget', '@Html.Raw(ViewBag.ProjectIndvDetail312.WaterWithdrawalTarget)');
				SetTextValue('WaterWithdrawalProcedure', '@Html.Raw(ViewBag.ProjectIndvDetail312.WaterWithdrawalProcedure)');
				SetTextValue('UseOfMeterToMeasure', '@Html.Raw(ViewBag.ProjectIndvDetail312.UseOfMeterToMeasure)');
				SetTextValue('PumpCapacity', '@Html.Raw(ViewBag.ProjectIndvDetail312.PumpCapacity)');
				SetTextValue('WellDepth', '@Html.Raw(ViewBag.ProjectIndvDetail312.WellDepth)');
				SetTextValue('PipeDiameterOfWell', '@Html.Raw(ViewBag.ProjectIndvDetail312.PipeDiameterOfWell)');
				SetTextValue('WaterWithdrawalQtyDay', '@Html.Raw(ViewBag.ProjectIndvDetail312.WaterWithdrawalQtyDay)');
				SetTextValue('RechargeTime', '@Html.Raw(ViewBag.ProjectIndvDetail312.RechargeTime)');

				var WaterUseConsumptionId = '@Html.Raw(ViewBag.ProjectIndvDetail312.WaterUseConsumptionId)';
				if(WaterUseConsumptionId != '')
					$(":radio[name='WaterUseConsumptionId'][value='" + WaterUseConsumptionId + "']").attr('checked', true);

				SetTextValue('DischargePoint', '@Html.Raw(ViewBag.ProjectIndvDetail312.DischargePoint)');
				SetTextValue('DistanceProposedExtractWell', '@Html.Raw(ViewBag.ProjectIndvDetail312.DistanceProposedExtractWell)');
				SetTextValue('Place', '@Html.Raw(ViewBag.ProjectIndvDetail312.Place)');
				SetTextValue('WellType', '@Html.Raw(ViewBag.ProjectIndvDetail312.WellType)');
				SetTextValue('Capacity', '@Html.Raw(ViewBag.ProjectIndvDetail312.Capacity)');
				SetTextValue('DiameterOfWell', '@Html.Raw(ViewBag.ProjectIndvDetail312.DiameterOfWell)');
				SetTextValue('DepthOfWell', '@Html.Raw(ViewBag.ProjectIndvDetail312.DepthOfWell)');
				SetTextValue('RecuperationHours', '@Html.Raw(ViewBag.ProjectIndvDetail312.RecuperationHours)');
				SetTextValue('RiverKhalName', '@Html.Raw(ViewBag.ProjectIndvDetail312.RiverKhalName)');
				SetTextValue('NearestSurfWaterAvailDistance', '@Html.Raw(ViewBag.ProjectIndvDetail312.NearestSurfWaterAvailDistance)');
				SetTextValue('WaterLevel', '@Html.Raw(ViewBag.ProjectIndvDetail312.WaterLevel)');
				SetTextValue('Discharge', '@Html.Raw(ViewBag.ProjectIndvDetail312.Discharge)');
				SetTextValue('CommandAreaOfWell', '@Html.Raw(ViewBag.ProjectIndvDetail312.CommandAreaOfWell)');
				SetTextValue('OtherAvailableSource', '@Html.Raw(ViewBag.ProjectIndvDetail312.OtherAvailableSource)');
				SetTextValue('FutureAvailability', '@Html.Raw(ViewBag.ProjectIndvDetail312.FutureAvailability)');
				SetTextValue('CultivableCrops', '@Html.Raw(ViewBag.ProjectIndvDetail312.CultivableCrops)');
				SetTextValue('AnnualRequirementOfGW', '@Html.Raw(ViewBag.ProjectIndvDetail312.AnnualRequirementOfGW)');
				SetTextValue('CropProduction', '@Html.Raw(ViewBag.ProjectIndvDetail312.CropProduction)');

                //deed start
                var CompatNWPYesNoId = '@Html.Raw(ViewBag.ProjectCommonDetail.CompatNWPYesNoId)';
                if(CompatNWPYesNoId != '') {
	                $(":radio[name='CompatNWPYesNoId'][value='" + CompatNWPYesNoId + "']").attr('checked', true);

					if (CompatNWPYesNoId == 1) {
		                jQuery("#divCwnwpPolicy").removeClass('d-none fadeOut');
		                jQuery("#divCwnwpPolicy").addClass('d-block fadeIn');
	                } else {
		                jQuery("#divCwnwpPolicy").removeClass('d-block fadeIn');
		                jQuery("#divCwnwpPolicy").addClass('d-none fadeOut');
	                }
				}

                SetTextValue('CompatibilityNWPApplicantCmt', '@Html.Raw(ViewBag.ProjectCommonDetail.CompatibilityNWPApplicantCmt)');
                SetTextValue('CompatibilityNWPAuthorityCmt', '@Html.Raw(ViewBag.ProjectCommonDetail.CompatibilityNWPAuthorityCmt)');

                var nwp = JSON.parse('@Html.Raw(Json.Serialize(ViewBag.CompatNWPDetail))');
                jQuery.each(nwp, function (i, item) {
	                $(":checkbox[name='NationalWaterPolicyArticleId'][value='" + item.nationalWaterPolicyArticleId + "']").attr('checked', true);
                });

                var NWMPCompatYesNoId = '@Html.Raw(ViewBag.ProjectCommonDetail.NWMPCompatYesNoId)';
                if(NWMPCompatYesNoId != '') {
	                $(":radio[name='NWMPCompatYesNoId'][value='" + NWMPCompatYesNoId + "']").attr('checked', true);

					if (NWMPCompatYesNoId == 1) {
		                jQuery("#divCNWMP").removeClass('d-none fadeOut');
		                jQuery("#divCNWMP").addClass('d-block fadeIn');
	                } else {
		                jQuery("#divCNWMP").removeClass('d-block fadeIn');
		                jQuery("#divCNWMP").addClass('d-none fadeOut');
	                }
				}

                SetTextValue('NWMPApplicantCmt', '@Html.Raw(ViewBag.ProjectCommonDetail.NWMPApplicantCmt)');
                SetTextValue('NWMPAuthorityCmt', '@Html.Raw(ViewBag.ProjectCommonDetail.NWMPAuthorityCmt)');

                var nwmp = JSON.parse('@Html.Raw(Json.Serialize(ViewBag.CompatNWMPDetail))');
                jQuery.each(nwmp, function (i, item) {
	                $(":checkbox[name='PrjCompatNWMPId'][value='" + item.nwmpProgrammeId + "']").attr('checked', true);
                });

                var FYPYesNoId = '@Html.Raw(ViewBag.ProjectCommonDetail.FYPYesNoId)';
                if(FYPYesNoId != '')
	                $(":radio[name='FYPYesNoId'][value='" + FYPYesNoId + "']").attr('checked', true);

                SetTextValue('FYPApplicantCmt', '@Html.Raw(ViewBag.ProjectCommonDetail.FYPApplicantCmt)');
                SetTextValue('FYPAuthorityCmt', '@Html.Raw(ViewBag.ProjectCommonDetail.FYPAuthorityCmt)');

                var SDGYesNoId = '@Html.Raw(ViewBag.ProjectCommonDetail.SDGYesNoId)';
                if (SDGYesNoId != '') {
                    $(":radio[name='SDGYesNoId'][value='" + SDGYesNoId + "']").attr('checked', true);

                    if (SDGYesNoId == 1) {
                        jQuery("#divCwsdg, #divSDG6Indicators").removeClass('d-none fadeOut');
                        jQuery("#divCwsdg, #divSDG6Indicators").addClass('d-block fadeIn');
                    } else {
                        jQuery("#divCwsdg, #divSDG6Indicators").removeClass('d-block fadeIn');
                        jQuery("#divCwsdg, #divSDG6Indicators").addClass('d-none fadeOut');
                    }
                }

                SetTextValue('SDGApplicantCmt', '@Html.Raw(ViewBag.ProjectCommonDetail.SDGApplicantCmt)');
                SetTextValue('SDGAuthorityCmt', '@Html.Raw(ViewBag.ProjectCommonDetail.SDGAuthorityCmt)');

                var sdgdetail = JSON.parse('@Html.Raw(Json.Serialize(ViewBag.CompatSDGDetail))');
                jQuery.each(sdgdetail, function (i, item) {
	                $(":checkbox[name='SDGGoalId'][value='" + item.sdgGoalId + "']").attr('checked', true);
                });

                var sdgindi = JSON.parse('@Html.Raw(Json.Serialize(ViewBag.CompatSDGIndiDetail))');
                jQuery.each(sdgindi, function (i, item) {
	                $(":checkbox[name='SDGIndicatorId'][value='" + item.sdgIndicatorId + "']").attr('checked', true);
                });

                var DeltaPlanYesNoId = '@Html.Raw(ViewBag.ProjectCommonDetail.DeltaPlanYesNoId)';
                if(DeltaPlanYesNoId != '') {
	                $(":radio[name='DeltaPlanYesNoId'][value='" + DeltaPlanYesNoId + "']").attr('checked', true);

					if (DeltaPlanYesNoId == 1) {
		                jQuery("#divCwbdp2100").removeClass('d-none fadeOut');
		                jQuery("#divCwbdp2100").addClass('d-block fadeIn');
	                } else {
		                jQuery("#divCwbdp2100").removeClass('d-block fadeIn');
		                jQuery("#divCwbdp2100").addClass('d-none fadeOut');
	                }
				}

                SetTextValue('DeltaPlan2100ApplicantCmt', '@Html.Raw(ViewBag.ProjectCommonDetail.DeltaPlan2100ApplicantCmt)');
                SetTextValue('DeltaPlan2100AuthorityCmt', '@Html.Raw(ViewBag.ProjectCommonDetail.DeltaPlan2100AuthorityCmt)');

                var bdp2100goal = JSON.parse('@Html.Raw(Json.Serialize(ViewBag.BDP2100GoalDetail))');
                jQuery.each(bdp2100goal, function (i, item) {
	                $(":checkbox[name='DeltPlan2100GoalId'][value='" + item.deltPlan2100GoalId + "']").attr('checked', true);
                });

                var CostalZoneYesNoId = '@Html.Raw(ViewBag.ProjectCommonDetail.CostalZoneYesNoId)';
                if(CostalZoneYesNoId != '')
	                $(":radio[name='CostalZoneYesNoId'][value='" + CostalZoneYesNoId + "']").attr('checked', true);

                SetTextValue('CostalZoneApplicantCmt', '@Html.Raw(ViewBag.ProjectCommonDetail.CostalZoneApplicantCmt)');
                SetTextValue('CostalZoneAuthorityCmt', '@Html.Raw(ViewBag.ProjectCommonDetail.CostalZoneAuthorityCmt)');

                var AgriculturalYesNoId = '@Html.Raw(ViewBag.ProjectCommonDetail.AgriculturalYesNoId)';
                if(AgriculturalYesNoId != '')
	                $(":radio[name='AgriculturalYesNoId'][value='" + AgriculturalYesNoId + "']").attr('checked', true);

                SetTextValue('AgriApplicantCmt', '@Html.Raw(ViewBag.ProjectCommonDetail.AgriApplicantCmt)');
                SetTextValue('AgriAuthorityCmt', '@Html.Raw(ViewBag.ProjectCommonDetail.AgriAuthorityCmt)');

                var FisheriesYesNoId = '@Html.Raw(ViewBag.ProjectCommonDetail.FisheriesYesNoId)';
                if(FisheriesYesNoId != '')
	                $(":radio[name='FisheriesYesNoId'][value='" + FisheriesYesNoId + "']").attr('checked', true);

                SetTextValue('FisheriesApplicantCmt', '@Html.Raw(ViewBag.ProjectCommonDetail.FisheriesApplicantCmt)');
                SetTextValue('FisheriesAuthorityCmt', '@Html.Raw(ViewBag.ProjectCommonDetail.FisheriesAuthorityCmt)');

                var IWRMYesNoId = '@Html.Raw(ViewBag.ProjectCommonDetail.IWRMYesNoId)';
                if(IWRMYesNoId != '')
	                $(":radio[name='IWRMYesNoId'][value='" + IWRMYesNoId + "']").attr('checked', true);

                SetTextValue('IWRMApplicantCmt', '@Html.Raw(ViewBag.ProjectCommonDetail.IWRMApplicantCmt)');
                SetTextValue('IWRMAuthorityCmt', '@Html.Raw(ViewBag.ProjectCommonDetail.IWRMAuthorityCmt)');

                var GPWMYesNoId = '@Html.Raw(ViewBag.ProjectCommonDetail.GPWMYesNoId)';
                if(GPWMYesNoId != '') {
	                $(":radio[name='GPWMYesNoId'][value='" + GPWMYesNoId + "']").attr('checked', true);

					if (DeltaPlanYesNoId == 1) {
		                jQuery("#divCwgpwm").removeClass('d-none fadeOut');
		                jQuery("#divCwgpwm").addClass('d-block fadeIn');
	                } else {
		                jQuery("#divCwgpwm").removeClass('d-block fadeIn');
		                jQuery("#divCwgpwm").addClass('d-none fadeOut');
	                }
				}

                SetTextValue('GPWMApplicantCmt', '@Html.Raw(ViewBag.ProjectCommonDetail.GPWMApplicantCmt)');
                SetTextValue('GPWMAuthorityCmt', '@Html.Raw(ViewBag.ProjectCommonDetail.GPWMAuthorityCmt)');

                var gpwmgroup = JSON.parse('@Html.Raw(Json.Serialize(ViewBag.GPWMGroupType))');
                jQuery.each(gpwmgroup, function (i, item) {
	                $(":checkbox[name='GPWMGroupTypeId'][value='" + item.gpwmGroupTypeId + "']").attr('checked', true);
                });

                var FeasibilityYesNoId = '@Html.Raw(ViewBag.ProjectCommonDetail.FeasibilityYesNoId)';
                if(FeasibilityYesNoId != '')
	                $(":radio[name='FeasibilityYesNoId'][value='" + FeasibilityYesNoId + "']").attr('checked', true);

                SetTextValue('FeasibilityApplicantCmt', '@Html.Raw(ViewBag.ProjectCommonDetail.FeasibilityApplicantCmt)');
                SetTextValue('FeasibilityAuthorityCmt', '@Html.Raw(ViewBag.ProjectCommonDetail.FeasibilityAuthorityCmt)');

                var SocialIssuesYesNoId = '@Html.Raw(ViewBag.ProjectCommonDetail.SocialIssuesYesNoId)';
                if(SocialIssuesYesNoId != '')
	                $(":radio[name='SocialIssuesYesNoId'][value='" + SocialIssuesYesNoId + "']").attr('checked', true);

                SetTextValue('SocialIssuesApplicantCmt', '@Html.Raw(ViewBag.ProjectCommonDetail.SocialIssuesApplicantCmt)');
                SetTextValue('SocialIssuesAuthorityCmt', '@Html.Raw(ViewBag.ProjectCommonDetail.SocialIssuesAuthorityCmt)');

                SetDropdownValue('RecommendationId', '@Html.Raw(ViewBag.ProjectCommonDetail.RecommendationId)');
                SetTextValue('RecommendationComment', '@Html.Raw(ViewBag.ProjectCommonDetail.RecommendationComment)');
            }
        }

        function Delete(id, projectId, modelName) {
            Swal.fire({
                title: "Are you sure?",
                text: "You won't be able to revert this",
                type: "warning",
                allowEscapeKey: false,
                allowOutsideClick: false,
                showCancelButton: !0,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Sure"
            }).then(function (t) {
                if (t.value == true) {
                    var url = '@Url.Action("cdm", "form")';
                    jQuery.ajax({
                        type: "POST",
                        url: url,
                        data: { id: id, projectId: projectId, modelName: modelName },
                        dataType: "json",
                        success: function (data, status, jqXHR) {
                            if (data.status == 'success') {
                                Notification('success', 'Success', data.message);
                                Swal.fire("Success", data.message, "success");
                            } else {
                                Notification('error', 'Deletion Error', data.message);
                                Swal.fire("Deletion Error", data.message, "error");
                            }
                        }, error: function (jqXHR, exception) {
                            var errorMsg = AjaxErrorHandle(jqXHR, exception);
                            Notification('error', 'Error Occured', errorMsg);
                        }
                    });
                }
            });
        }

        function UploadCommonFiles(inputid) {
	        var projectid = GetHiddenValue('ProjectId');
	        var input = document.getElementById(inputid);
	        var files = input.files;

	        var formData = new FormData();
	        formData.append("projectid", projectid);
	        formData.append("controltitle", inputid);
	        formData.append("file", files[0]);

            var url = '@Url.Action("ucdf", "form")';
	        $.ajax({
		        url: url,
		        data: formData,
		        processData: false,
		        contentType: false,
		        type: "POST",
		        success: function (data) {
			        if (data.message != '')
				        Swal.fire(data.title, data.message, data.status);
		        }, error: function (jqXHR, exception) {
			        var errorMsg = AjaxErrorHandle(jqXHR, exception);
			        Swal.fire('Error Occured', errorMsg, 'error');
		        }
	        });
        }

        function GoBack() {
            var title='', text = '', lang = '@HttpContextAccessor.HttpContext.Request.Cookies["FormLanguage"].ToString()';
            console.log(lang);
            if (lang == "1") {
                title = "আপনি কি নিশ্চিত?";
                text = "আপনার প্রদত্ত ডেটা সফলভাবে সংরক্ষণ করা হয়েছে কিনা তা নিশ্চিত করুন!";
            } else {
                title = "Are you sure?";
                text = "Please make sure the data you have provided that has been saved successfully!";
            }

            Swal.fire({
                title: title,
                text: text,
                type: "warning",
                allowEscapeKey: false,
                allowOutsideClick: false,
                showCancelButton: !0,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Sure"
            }).then(function (t) {
                if (t.value == true) {
                    var url = '@Url.Action("index", "form")';
                    window.location.href = url;
                }
            });
        }
    </script>
}