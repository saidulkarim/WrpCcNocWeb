@using static WrpCcNocWeb.ViewModels.GeneralInfo
@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    var form_lan = HttpContextAccessor.HttpContext.Request.Cookies["FormLanguage"].ToString();
    form_lan = string.IsNullOrEmpty(form_lan) ? "2" : form_lan; //2 = default english
    var language = int.Parse(form_lan);
}

<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-body">
                <h4 class="header-title mb-3">
                    <b>@ViewBag.ProjectTitle</b>

                    <button id="btnGoBack" type="button" class="btn btn-secondary float-right" style="margin-top: -10px;">Back</button>

                    <button id="btnExpandAll" type="button" class="btn btn-danger waves-effect waves-light float-right mr-1"
                            style="margin-top: -10px;">
                        <span class="btn-label"><i class="mdi mdi-arrow-expand-vertical"></i></span>
                        @if (language == 1)
                        {<span>সব কিছু বিশদভাবে ব্যক্ত করুন</span>}
                        else
                        {<span>Expand All</span>}
                    </button>

                    <button id="btnCollapseAll" type="button" class="btn btn-info waves-effect waves-light float-right mr-1"
                            style="margin-top: -10px;">
                        <span class="btn-label"><i class="mdi mdi-arrow-collapse-vertical"></i></span>
                        @if (language == 1)
                        {<span>সব সঙ্কুচিত করুন</span>}
                        else
                        { <span>Collapse All</span>}
                    </button>
                </h4>

                <div id="basicwizard">
                    <ul class="nav nav-pills bg-light nav-justified form-wizard-header">
                        <li class="nav-item">
                            <a id="lnkTab1" href="#basictab1" data-toggle="tab" class="nav-link rounded-0 pt-2 pb-2 active">
                                <i class="mdi mdi-format-float-right mr-1"></i>
                                <span class="d-none d-sm-inline">
                                    @if (language == 1)
                                    {<span>আবেদন পত্র</span> }
                                    else
                                    {<span>Application Form</span>}
                                </span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a id="lnkTab2" href="#basictab2" data-toggle="tab" class="nav-link rounded-0 pt-2 pb-2">
                                <i class="mdi mdi-face-profile mr-1"></i>
                                <span class="d-none d-sm-inline">
                                    @if (language == 1)
                                    {<span>প্রিভিউ</span> }
                                    else
                                    {<span>Preview</span>}
                                </span>
                            </a>
                        </li>
                    </ul>

                    <div class="tab-content b-0 mb-0">
                        <div class="tab-pane active" id="basictab1">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="card-box">
                                        <div class="row">
                                            @Html.Hidden("ProjectId")
                                            @Html.Hidden("AppSubmissionId")
                                            @Html.Hidden("ApplicationStateId")
                                            @Html.Hidden("ApprovalStatusId")
                                            @Html.Hidden("Project36IndvId")
                                            @Html.Hidden("UserId")

                                            <input id="ProjectTypeId" type="hidden" value="@ViewBag.ProjectTypeId" />

                                            <div class="col-sm-3">
                                                @{ await Html.RenderPartialAsync("form/_1TabPanel"); }
                                            </div>

                                            <div class="col-sm-9">
                                                <div class="tab-content pt-0">
                                                    <div class="tab-pane fade active show" id="v-gen-info" role="tabpanel" aria-labelledby="v-gen-info-tab">
                                                        <form id="frmGeneralInfo">
                                                            <div class="card-box">
                                                                @{ await Html.RenderPartialAsync("form/_2GeneralInfo"); }
                                                            </div>
                                                        </form>
                                                    </div>

                                                    <div class="tab-pane fade" id="v-tech-info" role="tabpanel" aria-labelledby="v-tech-info-tab">
                                                        <form id="frmTechnicalInfo">
                                                            <div class="card-box">
                                                                <div id="tech-info-form">
                                                                    <div class="card">
                                                                        <div class="card-header bg-blue py-3 text-white cursor" data-toggle="collapse" href="#cardCollpase31">
                                                                            <div class="card-widgets">
                                                                                <a data-toggle="collapse" href="#cardCollpase31" role="button" aria-expanded="false" aria-controls="cardCollpase2"><i class="mdi mdi-minus"></i></a>
                                                                            </div>
                                                                            <h5 class="card-title mb-0 text-white">
                                                                                @if (language == 1)
                                                                                { <span>১. বেজলাইন সম্পর্কিত তথ্য বা অবস্থা পর্যালোচনা</span>}
                                                                                else
                                                                                { <span>1. Discussion About Baseline Related Information or Situation</span>}
                                                                            </h5>
                                                                        </div>
                                                                        <div id="cardCollpase31" class="collapse show">
                                                                            <div class="card-body">
                                                                                <div class="form-group">
                                                                                    <label for="HydrologicalRegion">
                                                                                        @if (language == 1)
                                                                                        {<span>i. হাইড্রোলজিক্যাল অঞ্চল অনুযায়ী প্রকল্প এলাকা</span>}
                                                                                        else
                                                                                        {<span>i. Project area according to Hydrological Region</span>}
                                                                                    </label>
                                                                                    <div id="chkHydrologicalRegions" style="margin-left: 5px;">
                                                                                        @{
                                                                                            List<LookUpCcModHydroRegion> _hydro_regions = ViewBag.LookUpCcModHydroRegion;

                                                                                            if (_hydro_regions.Count > 0)
                                                                                            {
                                                                                                foreach (LookUpCcModHydroRegion hr in _hydro_regions)
                                                                                                {
                                                                                                    var id = "chkHydroRegion" + hr.HydroRegionId;

                                                                                                    if (language == 1)
                                                                                                    {
                                                                                                        <div class="checkbox checkbox-pink mb-1 form-check-inline" style="margin-right: 25px;" data-toggle="tooltip" data-placement="top" title="" data-original-title="@hr.HydroRegionFullNameBn">
                                                                                                            <input type="checkbox" name="hydrological_region" id="@id" value="@hr.HydroRegionId" data-parsley-multiple="hydrological_region">
                                                                                                            <label for="@id"> @hr.HydroRegionFullNameBn </label>
                                                                                                        </div>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <div class="checkbox checkbox-pink mb-1 form-check-inline" style="margin-right: 25px;" data-toggle="tooltip" data-placement="top" title="" data-original-title="@hr.HydroRegionFullName">
                                                                                                            <input type="checkbox" name="hydrological_region" id="@id" value="@hr.HydroRegionId" data-parsley-multiple="hydrological_region">
                                                                                                            <label for="@id"> @hr.HydroRegionFullName </label>
                                                                                                        </div>
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label for="BDP2100HotSpot">
                                                                                        @if (language == 1)
                                                                                        {<span>ii. বাংলাদেশ ব-দ্বীপ পরিকল্পনা-২১০০ এর হট স্পট অনুযায়ী প্রকল্প এলাকা</span>}
                                                                                        else
                                                                                        {<span>ii. Project Area According to Bangladesh Delta Plan 2100 Hot Spot</span>}
                                                                                    </label>
                                                                                    <div id="chkBDP2100HotSpot" class="row" style="margin-left: 5px;">
                                                                                        @{
                                                                                            List<LookUpCcModDeltPlan2100HotSpot> _hot_spots = ViewBag.LookUpCcModDeltPlan2100HotSpot;

                                                                                            if (_hot_spots.Count > 0)
                                                                                            {
                                                                                                foreach (LookUpCcModDeltPlan2100HotSpot hs in _hot_spots)
                                                                                                {
                                                                                                    var id = "chkBDP2100HotSpot" + hs.DeltaPlanHotSpotId;

                                                                                                    if (language == 1)
                                                                                                    {
                                                                                                        <div class="checkbox checkbox-pink mb-1 form-check-inline col-md-5" style="margin-right: 25px;" data-toggle="tooltip" data-placement="top" title="" data-original-title="@hs.PlanNameBn">
                                                                                                            <input type="checkbox" name="bdp2100_hot_spot" id="@id" value="@hs.DeltaPlanHotSpotId" data-parsley-multiple="bdp2100_hot_spot">
                                                                                                            <label for="@id"> @hs.PlanNameBn </label>
                                                                                                        </div>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <div class="checkbox checkbox-pink mb-1 form-check-inline col-md-5" style="margin-right: 25px;" data-toggle="tooltip" data-placement="top" title="" data-original-title="@hs.PlanName">
                                                                                                            <input type="checkbox" name="bdp2100_hot_spot" id="@id" value="@hs.DeltaPlanHotSpotId" data-parsley-multiple="bdp2100_hot_spot">
                                                                                                            <label for="@id"> @hs.PlanName </label>
                                                                                                        </div>
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label for="HydrologicalSystem">
                                                                                        @if (language == 1)
                                                                                        {<span>iii. হাইড্রোলজিক্যাল সিস্টেম</span>}
                                                                                        else
                                                                                        {<span>iii. Hydrological System</span>}
                                                                                    </label>

                                                                                    <div class="row">
                                                                                        <div class="col-md-12">
                                                                                            @{ await Html.RenderPartialAsync("controls/_HydrologicalSystem"); }
                                                                                        </div>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label for="ConnectivityAmidWaterland">
                                                                                        @{if (language == 1)
                                                                                            { <span>iv. খাল, নদী এবং জলাভূমির মধ্যে সংযোগ</span>}
                                                                                            else
                                                                                            {<span>iv. Connectivity Amid Khals, River and Wetland</span>}
                                                                                        }
                                                                                    </label>
                                                                                    <!--<input type="text" id="ConnectivityAmidWaterland" name="ConnectivityAmidWaterland" class="form-control" />-->
                                                                                    <select id="ConnectivityAmidWaterland" name="ConnectivityAmidWaterland" class="form-control">
                                                                                        @if (language == 1)
                                                                                        {
                                                                                            <option value="">বাছাই করুন...</option>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <option value="">Choose...</option>
                                                                                        }

                                                                                        @{ List<LookUpCcModConnAmidKhalRiver> _cakrw = ViewBag.LookUpCcModConnAmidKhalRiver;

                                                                                            if (_cakrw.Count > 0)
                                                                                            {
                                                                                                foreach (LookUpCcModConnAmidKhalRiver cakrw in _cakrw)
                                                                                                {
                                                                                                    if (language == 1)
                                                                                                    {
                                                                                                        <option value="@cakrw.OptionTitleBn">@cakrw.OptionTitleBn</option>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <option value="@cakrw.OptionTitle">@cakrw.OptionTitle</option>
                                                                                                    }
                                                                                                }
                                                                                            } }
                                                                                    </select>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label for="CatchmentArea">
                                                                                        @{if (language == 1)
                                                                                            { <span>v. ক্যাচমেন্ট এলাকা (অববাহিকা) (হেক্টর)</span>}
                                                                                            else
                                                                                            {<span>v. Catchment Area (ha)</span>}
                                                                                        }
                                                                                    </label>
                                                                                    <input type="number" id="CatchmentArea" name="CatchmentArea" class="form-control" />
                                                                                </div>

                                                                                <div id="divAnnualRainfall">
                                                                                    <label for="AnnualRainfall" class="bold">
                                                                                        @{if (language == 1)
                                                                                            { <span>vi. বার্ষিক বৃষ্টিপাত (বিগত পাঁচ বছর) (মি.মি.)</span>}
                                                                                            else
                                                                                            {<span>vi. Annual Rainfall (last five years)</span>}
                                                                                        }
                                                                                    </label>

                                                                                    <hr style="margin-top: 0 !important;" />

                                                                                    <div class="row">
                                                                                        <div class="col-md-12">
                                                                                            @{ await Html.RenderPartialAsync("controls/_AnnualRainfall"); }
                                                                                        </div>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label for="HighestFloodLevel">
                                                                                        @{if (language == 1)
                                                                                            { <span>vii. বন্যায় সর্বোচ্চ পানির উচ্চতা (মিটার) (গত ৩০ বৎসরের মধ্যে)</span>}
                                                                                            else
                                                                                            {<span>vii. Highest Flood Level (m) (within last 30 years)</span>} }
                                                                                    </label>

                                                                                    <hr />

                                                                                    <!--<input type="text" id="HighestFloodLevel" name="HighestFloodLevel" class="form-control" />-->
                                                                                    <div class="row">
                                                                                        <div class="col-md-12">
                                                                                            @{ await Html.RenderPartialAsync("controls/_HighestFloodLevel"); }
                                                                                        </div>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label for="DrainageCondition">
                                                                                        @{if (language == 1)
                                                                                            { <span>viii. নিষ্কাশন (ড্রেইনেজ) ব্যবস্থা</span>}
                                                                                            else
                                                                                            {<span>viii. Drainage Condition</span>}
                                                                                        }
                                                                                    </label>
                                                                                    <div id="DrainageCondition" class="row" style="margin-left: 5px;">
                                                                                        @{
                                                                                            List<LookUpCcModDrainageCondition> _dcs = ViewBag.LookUpCcModDrainageCondition;

                                                                                            if (_dcs.Count > 0)
                                                                                            {
                                                                                                foreach (LookUpCcModDrainageCondition dc in _dcs)
                                                                                                {
                                                                                                    var id = "radDrainageCondition" + dc.DrainageConditionId;

                                                                                                    if (language == 1)
                                                                                                    {
                                                                                                        <div class="radio radio-info form-check-inline" style="margin-right: 25px;">
                                                                                                            <input type="radio" name="DrainageConditionId" id="@id" value="@dc.DrainageConditionId" data-parsley-multiple="DrainageConditionId">
                                                                                                            <label for="@id"> @dc.DrainageConditionBn </label>
                                                                                                        </div>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <div class="radio radio-info form-check-inline" style="margin-right: 25px;">
                                                                                                            <input type="radio" name="DrainageConditionId" id="@id" value="@dc.DrainageConditionId" data-parsley-multiple="DrainageConditionId">
                                                                                                            <label for="@id"> @dc.DrainageCondition </label>
                                                                                                        </div>
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    </div>
                                                                                </div>

                                                                                <div id="divSurfaceWaterQuality">
                                                                                    <label for="LandType" class="bold">
                                                                                        @{if (language == 1)
                                                                                            { <span>ix. ভূমির ধরন (শতকরা)</span>}
                                                                                            else
                                                                                            {<span>ix. Land Type (Percent)</span>}
                                                                                        }
                                                                                    </label>

                                                                                    <hr style="margin-top: 0 !important;" />

                                                                                    <div class="row">
                                                                                        <div class="form-group col-xl-3 text-center">
                                                                                            <label for="HighLandPercent">
                                                                                                @{if (language == 1)
                                                                                                    { <span>উচুঁ ভূমি <br />F<sub>0</sub> (০-৩০ সে.মি.)</span>}
                                                                                                    else
                                                                                                    {<span> High Land <br />F<sub>0</sub> (0-30 cm)</span>}
                                                                                                }
                                                                                            </label>
                                                                                            <input type="number" id="HighLandPercent" name="HighLandPercent" class="form-control" />
                                                                                        </div>

                                                                                        <div class="form-group col-md-2 text-center">
                                                                                            <label for="MediumHighLandPercent">
                                                                                                @{if (language == 1)
                                                                                                    { <span>মধ্যম উচুঁ ভূমি <br />F<sub>1</sub> (৩০-৯০ সে.মি.)</span>}
                                                                                                    else
                                                                                                    {<span>Medium High Land <br />F<sub>1</sub> (30-90 cm)</span>}
                                                                                                }
                                                                                            </label>
                                                                                            <input type="number" id="MediumHighLandPercent" name="MediumHighLandPercent" class="form-control" />
                                                                                        </div>

                                                                                        <div class="form-group col-xl-2 text-center">
                                                                                            <label for="MediumLowLandPercent">
                                                                                                @{if (language == 1)
                                                                                                    { <span>মধ্যম নিচু ভূমি <br />F<sub>2</sub> (৯০-১৮০ সে.মি)</span>}
                                                                                                    else
                                                                                                    {<span>Medium Low Land <br />F<sub>2</sub> (90-180 cm)</span>}
                                                                                                }
                                                                                            </label>
                                                                                            <input type="number" id="MediumLowLandPercent" name="MediumLowLandPercent" class="form-control" />
                                                                                        </div>

                                                                                        <div class="form-group col-md-2 text-center">
                                                                                            <label for="LowLandPercent">
                                                                                                @{if (language == 1)
                                                                                                    { <span>নিচু ভূমি <br />F<sub>3</sub> (>১৮০-৩৬০ সে.মি.)</span>}
                                                                                                    else
                                                                                                    {<span>Low Land <br />F<sub>3</sub> (>180-360 cm)</span>}
                                                                                                }
                                                                                            </label>
                                                                                            <input type="number" id="LowLandPercent" name="LowLandPercent" class="form-control" />
                                                                                        </div>

                                                                                        <div class="form-group col-md-3 text-center">
                                                                                            <label for="VeryLowLandPercent">
                                                                                                @{if (language == 1)
                                                                                                    { <span>অত্যন্ত নিচু জমি <br />F<sub>4</sub> (>৩৬০ সে.মি)</span>}
                                                                                                    else
                                                                                                    {<span>Very Low Land <br />F<sub>4</sub> (>360 cm)</span>}
                                                                                                }
                                                                                            </label>
                                                                                            <input type="number" id="VeryLowLandPercent" name="VeryLowLandPercent" class="form-control" />
                                                                                        </div>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label for="CropProductionAmount">
                                                                                        @if (language == 1)
                                                                                        {<span>x. মাছ উৎপাদন এবং বৈচিত্র্য</span> }
                                                                                        else
                                                                                        {<span>x. Fish Production and Diversity</span>}
                                                                                    </label>

                                                                                    <div id="FishProductionDiversity" class="row">
                                                                                        <div class="col-md-12">
                                                                                            @{ await Html.RenderPartialAsync("controls/_FishProductionDiversity"); }
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="card">
                                                                        <div class="card-header bg-warning py-3 text-white cursor" data-toggle="collapse" href="#cardCollpase342">
                                                                            <div class="card-widgets">
                                                                                <a data-toggle="collapse" href="#cardCollpase342" role="button" aria-expanded="false" aria-controls="cardCollpase342"><i class="mdi mdi-minus"></i></a>
                                                                            </div>
                                                                            <h5 class="card-title mb-0 text-white">
                                                                                @if (language == 1)
                                                                                {<span>২. ভূমি ব্যবহার ম্যাপ (অনুমোদিত, যেমন রাজউক, ইত্যাদি)</span> }
                                                                                else
                                                                                { <span>2. Land use Map (Rajuk Approval and others)</span>}
                                                                            </h5>
                                                                        </div>
                                                                        <div id="cardCollpase342" class="collapse show">
                                                                            <div class="card-body">
                                                                                <div id="divDSWPD" class="row" style="margin-left: -7px;">
                                                                                    <div class="table-responsive">
                                                                                        <table class="table mb-0">
                                                                                            <thead>
                                                                                                <tr>
                                                                                                    <th class="text-center">
                                                                                                        @if (language == 1)
                                                                                                        {
                                                                                                            <span>হ্যাঁ/ না</span>
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <span>Yes/ No</span>
                                                                                                        }
                                                                                                    </th>
                                                                                                    <th class="text-center">
                                                                                                        @if (language == 1)
                                                                                                        {
                                                                                                            <span>আবেদনকারী মন্তব্য</span>
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <span>Applicant Comments</span>
                                                                                                        }
                                                                                                    </th>
                                                                                                </tr>
                                                                                                <tr>
                                                                                                    <th class="text-center">
                                                                                                        <div class="radio radio-info form-check-inline" style="margin-right: 25px;">
                                                                                                            <input type="radio" name="LandUseMapYesNoId" id="chkLUMYes" value="1" data-parsley-multiple="LandUseMapYesNoId">
                                                                                                            <label for="chkLUMYes"> Yes </label>
                                                                                                        </div>

                                                                                                        <div class="radio radio-info form-check-inline" style="margin-right: 25px;">
                                                                                                            <input type="radio" name="LandUseMapYesNoId" id="chkLUMNo" value="0" data-parsley-multiple="LandUseMapYesNoId">
                                                                                                            <label for="chkLUMNo"> No </label>
                                                                                                        </div>
                                                                                                    </th>
                                                                                                    <th class="text-center">
                                                                                                        <input type="text" id="LandUseMapApplicantComments" name="LandUseMapApplicantComments" class="form-control" />
                                                                                                    </th>
                                                                                                </tr>
                                                                                            </thead>
                                                                                        </table>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="card">
                                                                        <div class="card-header bg-info py-3 text-white cursor" data-toggle="collapse" href="#cardCollpase342">
                                                                            <div class="card-widgets">
                                                                                <a data-toggle="collapse" href="#cardCollpase342" role="button" aria-expanded="false" aria-controls="cardCollpase342"><i class="mdi mdi-minus"></i></a>
                                                                            </div>
                                                                            <h5 class="card-title mb-0 text-white">
                                                                                @if (language == 1)
                                                                                {<span>৩. ভূমি ব্যবহার নক্শা বা পরিকল্পনা</span> }
                                                                                else
                                                                                { <span>3. Land use Design/ Planning</span>}
                                                                            </h5>
                                                                        </div>
                                                                        <div id="cardCollpase342" class="collapse show">
                                                                            <div class="card-body">
                                                                                <div id="divDSWPD" class="row" style="margin-left: -7px;">
                                                                                    <div class="table-responsive">
                                                                                        <table class="table mb-0">
                                                                                            <thead>
                                                                                                <tr>
                                                                                                    <th class="text-center">
                                                                                                        @if (language == 1)
                                                                                                        {
                                                                                                            <span>হ্যাঁ/ না</span>
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <span>Yes/ No</span>
                                                                                                        }
                                                                                                    </th>
                                                                                                    <th class="text-center">
                                                                                                        @if (language == 1)
                                                                                                        {
                                                                                                            <span>আবেদনকারী মন্তব্য</span>
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <span>Applicant Comments</span>
                                                                                                        }
                                                                                                    </th>
                                                                                                </tr>
                                                                                                <tr>
                                                                                                    <th class="text-center">
                                                                                                        <div class="radio radio-info form-check-inline" style="margin-right: 25px;">
                                                                                                            <input type="radio" name="LandUseDesignYesNoId" id="chkLUDYes" value="1" data-parsley-multiple="LandUseDesignYesNoId">
                                                                                                            <label for="chkLUDYes"> Yes </label>
                                                                                                        </div>

                                                                                                        <div class="radio radio-info form-check-inline" style="margin-right: 25px;">
                                                                                                            <input type="radio" name="LandUseDesignYesNoId" id="chkLUDNo" value="0" data-parsley-multiple="LandUseDesignYesNoId">
                                                                                                            <label for="chkLUDNo"> No </label>
                                                                                                        </div>
                                                                                                    </th>
                                                                                                    <th class="text-center">
                                                                                                        <input type="text" id="LandUseDesignApplicantComments" name="LandUseDesignApplicantComments" class="form-control" />
                                                                                                    </th>
                                                                                                </tr>
                                                                                            </thead>
                                                                                        </table>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="card">
                                                                        <div class="card-header bg-dark py-3 text-white cursor" data-toggle="collapse" href="#cardCollpase345">
                                                                            <div class="card-widgets">
                                                                                <a data-toggle="collapse" href="#cardCollpase345" role="button" aria-expanded="false" aria-controls="cardCollpase345"><i class="mdi mdi-minus"></i></a>
                                                                            </div>
                                                                            <h5 class="card-title mb-0 text-white">
                                                                                @if (language == 1)
                                                                                {<span>৪. বন্যার পানি বাহিত এলাকার উপর প্রভাব</span> }
                                                                                else
                                                                                { <span>4. Impact on Flood Plain Area</span>}
                                                                            </h5>
                                                                        </div>
                                                                        <div id="cardCollpase345" class="collapse show">
                                                                            <div class="card-body">
                                                                                <label>
                                                                                    @{if (language == 1)
                                                                                        { <span>i. বন্যার পানি বাহিত এলাকার উপর প্রভাব</span>}
                                                                                        else
                                                                                        {<span>i. Impact on Flood Plain Area</span>}
                                                                                    }
                                                                                </label>
                                                                                <div class="form-group">
                                                                                    <div id="ImpactFloodPlainAreaYesNo" class="row" style="margin-left: 5px;">
                                                                                        <div class="radio radio-info form-check-inline" style="margin-right: 25px;">
                                                                                            <input type="radio" name="ImpactFloodPlainAreaYesNoId" id="chkIFPAYes" value="1" data-parsley-multiple="ImpactFloodPlainAreaYesNoId">
                                                                                            <label for="chkIFPAYes">
                                                                                                @{if (language == 1)
                                                                                                    { <span>হ্যাঁ</span>}
                                                                                                    else
                                                                                                    {<span>Yes</span>}
                                                                                                }
                                                                                            </label>
                                                                                        </div>

                                                                                        <div class="radio radio-info form-check-inline" style="margin-right: 25px;">
                                                                                            <input type="radio" name="ImpactFloodPlainAreaYesNoId" id="chkIFPANo" value="0" checked data-parsley-multiple="ImpactFloodPlainAreaYesNoId">
                                                                                            <label for="chkIFPANo">
                                                                                                @{if (language == 1)
                                                                                                    { <span>না</span>}
                                                                                                    else
                                                                                                    {<span>No</span>}
                                                                                                }
                                                                                            </label>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label for="ImpctFldPlnAraApplicntComments">
                                                                                        @{if (language == 1)
                                                                                            { <span>ii. আবেদনকারীর মন্তব্য</span>}
                                                                                            else
                                                                                            {<span>ii. Applicant Comments</span>}
                                                                                        }
                                                                                    </label>
                                                                                    <input type="text" id="ImpctFldPlnAraApplicntComments" name="ImpctFldPlnAraApplicntComments" class="form-control" />
                                                                                </div>

                                                                                <div id="divImpctFldPlnAraes" class="form-group d-none">
                                                                                    <div class="form-group">
                                                                                        <label for="IfpaYes">
                                                                                            @{if (language == 1)
                                                                                                {<span>হাঁ হলে</span>}
                                                                                                else
                                                                                                {<span>If Yes</span>}
                                                                                            }
                                                                                        </label>
                                                                                        <div id="IfpaYes" class="row" style="margin-left: 5px;">
                                                                                            <div class="checkbox checkbox-pink mb-1 form-check-inline" style="margin-right: 25px;" data-toggle="tooltip" data-placement="top" title="" data-original-title="Reduction of Flood Flow Zone">
                                                                                                <input type="checkbox" name="IfpaId" id="chkIfpa1" value="1" data-parsley-multiple="IfpaId">
                                                                                                <label for="chkIfpa1"> Reduction of Flood Flow Zone </label>
                                                                                            </div>
                                                                                            <div class="checkbox checkbox-pink mb-1 form-check-inline" style="margin-right: 25px;" data-toggle="tooltip" data-placement="top" title="" data-original-title="Flooding">
                                                                                                <input type="checkbox" name="IfpaId" id="chkIfpa2" value="2" data-parsley-multiple="IfpaId">
                                                                                                <label for="chkIfpa2"> Flooding </label>
                                                                                            </div>
                                                                                            <div class="checkbox checkbox-pink mb-1 form-check-inline" style="margin-right: 25px;" data-toggle="tooltip" data-placement="top" title="" data-original-title="Drainage">
                                                                                                <input type="checkbox" name="IfpaId" id="chkIfpa3" value="3" data-parsley-multiple="IfpaId">
                                                                                                <label for="chkIfpa3"> Drainage </label>
                                                                                            </div>
                                                                                            <div class="checkbox checkbox-pink mb-1 form-check-inline" style="margin-right: 25px;" data-toggle="tooltip" data-placement="top" title="" data-original-title="Others">
                                                                                                <input type="checkbox" name="IfpaId" id="chkIfpa4" value="4" data-parsley-multiple="IfpaId">
                                                                                                <label for="chkIfpa4"> Others </label>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="card">
                                                                        <div class="card-header bg-primary py-3 text-white cursor" data-toggle="collapse" href="#cardCollpase36">
                                                                            <div class="card-widgets">
                                                                                <a data-toggle="collapse" href="#cardCollpase36" role="button" aria-expanded="false" aria-controls="cardCollpase36"><i class="mdi mdi-minus"></i></a>
                                                                            </div>
                                                                            <h5 class="card-title mb-0 text-white">
                                                                                @if (language == 1)
                                                                                {<span>৫. পরিবেশগত ও সামাজিক প্রভাব</span>}
                                                                                else
                                                                                {<span>5. Environmental and Social Impact Assessment</span>}
                                                                            </h5>
                                                                        </div>
                                                                        <div id="cardCollpase36" class="collapse show">
                                                                            <div class="card-body">
                                                                                <label for="AnalyzeOptFulfillObj">
                                                                                    @{if (language == 1)
                                                                                        { <span>i. পরিবেশগত ও সামাজিক প্রভাব</span>}
                                                                                        else
                                                                                        {<span>i. Environmental and Social Impact Assessment</span>} }
                                                                                </label>

                                                                                <div class="form-group">
                                                                                    <div id="ESIA" class="row" style="margin-left: 5px;">
                                                                                        <div class="radio radio-info form-check-inline" style="margin-right: 25px;">
                                                                                            <input type="radio" name="EnvAndSocialYesNoId" id="chkESIAYes" value="1" data-parsley-multiple="EnvAndSocialYesNoId">
                                                                                            <label for="chkESIAYes">
                                                                                                @{if (language == 1)
                                                                                                    { <span>হ্যাঁ</span>}
                                                                                                    else
                                                                                                    {<span>Yes</span>} }
                                                                                            </label>
                                                                                        </div>

                                                                                        <div class="radio radio-info form-check-inline" style="margin-right: 25px;">
                                                                                            <input type="radio" name="EnvAndSocialYesNoId" id="chkESIANo" value="0" checked data-parsley-multiple="EnvAndSocialYesNoId">
                                                                                            <label for="chkESIANo">
                                                                                                @{if (language == 1)
                                                                                                    { <span>না</span>}
                                                                                                    else
                                                                                                    {<span>No</span>} }
                                                                                            </label>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label for="EnvAndSocialApplicantCmt">
                                                                                        @{if (language == 1)
                                                                                            { <span>ii. আবেদনকারীর মন্তব্য</span>}
                                                                                            else
                                                                                            {<span>ii. Applicant Comments</span>} }
                                                                                    </label>
                                                                                    <input type="text" id="EnvAndSocialApplicantCmt" name="EnvAndSocialApplicantCmt" class="form-control" />
                                                                                </div>

                                                                                <div class="row">
                                                                                    <div class="col-md-12">
                                                                                        @{ await Html.RenderPartialAsync("controls/_EnvSocImpactAssessment.cshtml",
                                                                                                  new ViewDataDictionary(ViewData) { { "vFormLanguage", language } }); }
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <hr />

                                                                <div class="form-group mb-0">
                                                                    <button id="btnSaveTechInfo" type="button" class="btn btn-info waves-effect waves-light">
                                                                        <span class="btn-label"><i class="mdi mdi-content-save"></i></span>
                                                                        @if (language == 1)
                                                                        {<span>সংরক্ষণ করুন</span>}
                                                                        else
                                                                        {<span>Save</span>}
                                                                        <span class="myspinner spinner-border spinner-border-sm mr-1 d-none"></span>
                                                                    </button>

                                                                    <button id="btnClearTechInfo" type="button" class="btn btn-danger waves-effect waves-light">
                                                                        <span class="btn-label"><i class="mdi mdi-close-outline"></i></span>
                                                                        @if (language == 1)
                                                                        {<span>পরিষ্কার করুন</span>}
                                                                        else
                                                                        {<span>Clear</span>}
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </form>
                                                    </div>

                                                    <div class="tab-pane fade" id="v-deed-obligatory" role="tabpanel" aria-labelledby="v-deed-obligatory-tab">
                                                        <div class="card-box">
                                                            @{ await Html.RenderPartialAsync("form/_4DeedObligatory",
                                                                      new ViewDataDictionary(ViewData) {{ "vFormLanguage", language } }); }
                                                        </div>
                                                    </div>

                                                    <div class="tab-pane fade" id="v-administrative" role="tabpanel" aria-labelledby="v-administrative-tab">
                                                        <div class="card-box">
                                                            @{ await Html.RenderPartialAsync("form/_5Administrative"); }
                                                        </div>
                                                    </div>

                                                    <div class="tab-pane fade" id="v-final-submit" role="tabpanel" aria-labelledby="v-final-submit-tab">
                                                        <div class="card-box">
                                                            @{ await Html.RenderPartialAsync("form/_6FinalSubmit"); }
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane" id="basictab2">
                            <div class="row">
                                @{ if (ViewBag.ProjectCommonDetail.ProjectId != 0)
                                        await Html.RenderPartialAsync("preview/_Preview36"); }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


@section PageScripts {
    <script src="~/libs/twitter-bootstrap-wizard/jquery.bootstrap.wizard.min.js"></script>
    <script src="~/js/pages/form-wizard.init.js"></script>

    <script type="text/javascript">
        jQuery(document).ready(function () {
            $("#btnCollapseAll").click(function () {
                $(".collapse").collapse('hide');
            });

            $("#btnExpandAll").click(function () {
                $(".collapse").collapse('show');
            });

            $("#btnGoBack").click(function () {
                GoBack();
            });

            var input_lang = '@language';
            if (input_lang == 1) {
                $('textarea, input[type=text]').avro({ 'bn': true });
            } else {
                $('textarea, input[type=text]').avro({ 'bn': false });
            }

            var projectId = '@ViewBag.ProjectCommonDetail.ProjectId';

            if (projectId != '') {
                BindData();
                DeedBindData();
                AdminBindData();
            }
        });
    </script>

    <script type="text/javascript">
        jQuery(document).ready(function () {
            //region tablular data filling
            GetProjLocationsData(); //call from partial page Shared/form/_3Location.cshtml
            GetHydroSystemData(); //call from partial page controls/_HydrologicalSystem
            GetAnnualRainfallData(); //call from partial page controls/_AnnualRainfall
            GetHighestFloodLevelData(); //call from partial page controls/_HighestFloodLevel
            GetFishProdDiversityData(); //call from partial page controls/_FishProductionDiversity
            GetEiaData(); //call from partial page controls/_EnvSocImpactAssessment
            GetSiaData(); //call from partial page controls/_EnvSocImpactAssessment
            //endregion
        });

        $(function () {
            $('textarea').avro({ 'bn': true }, function (isBangla) {
                if (isBangla) {
                    console.log('Bangla');
                } else {
                    console.log('English');
                }
            });
        });

        jQuery(window).bind('keydown', function (event) {
            if (event.ctrlKey || event.metaKey) {
                switch (String.fromCharCode(event.which).toLowerCase()) {
                    //case 'b':
                    //    event.preventDefault();
                    //    jQuery('textarea, input[type=text]').avro({ 'bn': true });
                    //    //console.log('You have pressed Ctrl + b');
                    //    break;

                    //case 'e':
                    //    event.preventDefault();
                    //    jQuery('textarea, input[type=text]').avro({ 'bn': false });
                    //    //console.log('You have pressed Ctrl + e');
                    //    break;

                    //to collapse all accordion panel at same time
                    case 'k':
                        event.preventDefault();
                        alert('You have pressed Ctrl + k');
                        break;

                    //case 's':
                    //    event.preventDefault();
                    //    alert('You have pressed Ctrl + s');
                    //    break;

                    //to expand all accordion panel at same time
                    case 'x':
                        event.preventDefault();
                        alert('You have pressed Ctrl + x');
                        break;
                }
            }
        });

        jQuery("input[type='radio'][name='ImpactFloodPlainAreaYesNoId']").change(function () {
            if (jQuery(this).val() == 1) {
                jQuery("#divImpctFldPlnAraes").removeClass('d-none fadeOut');
                jQuery("#divImpctFldPlnAraes").addClass('d-block fadeIn');
            } else {
                jQuery("#divImpctFldPlnAraes").removeClass('d-block fadeIn');
                jQuery("#divImpctFldPlnAraes").addClass('d-none fadeOut');
            }
        });

        jQuery("input[type='radio'][name='EnvAndSocialYesNoId']").change(function () {
            if (jQuery(this).val() == 1) {
                jQuery("#divEIAYes, #divSIAYes").removeClass('d-none fadeOut');
                jQuery("#divEIAYes, #divSIAYes").addClass('d-block fadeIn');
            } else {
                jQuery("#divEIAYes, #divSIAYes").removeClass('d-block fadeIn');
                jQuery("#divEIAYes, #divSIAYes").addClass('d-none fadeOut');
            }
        });

        //start :: Technical Information JS
        jQuery("#btnSaveTechInfo").click(function () {
            var FinalObj = [];
            var hydroRegions = [],
                bdp2100HotSpot = [];

            var ProjectId = GetHiddenValue('ProjectId');

            jQuery.each(jQuery("input[name='hydrological_region']:checked"), function () {
                var _hr = {
                    "PrjHydroRegionDetailId": 0,
                    "ProjectId": ProjectId,
                    "HydroRegionId": jQuery(this).val()
                };

                hydroRegions.push(_hr);
            });

            jQuery.each(jQuery("input[name='bdp2100_hot_spot']:checked"), function () {
                var _hsp = {
                    "HotSpotDetailId": 0,
                    "ProjectId": ProjectId,
                    "DeltaPlanHotSpotId": jQuery(this).val()
                };

                bdp2100HotSpot.push(_hsp);
            });

            //start :: technical info submission validation
            if (hydroRegions.length == 0) {
                Notification('warning', 'Required', 'Please select Hydrological Region!');
                return;
            }

            if (bdp2100HotSpot.length == 0) {
                Notification('warning', 'Required', 'Please select Bangladesh Delta Plan 2100 Hot Spot!');
                return;
            }
            //end

            var ProjectCommonDetail = {
                "ProjectId": ProjectId,
                //"AnnualRainFallLast1Year": GetTextValue('AnnualRainFallLast1Year'),
                //"AnnualRainFallLast2Years": GetTextValue('AnnualRainFallLast2Years'),
                //"AnnualRainFallLast3Years": GetTextValue('AnnualRainFallLast3Years'),
                //"AnnualRainFallLast4Years": GetTextValue('AnnualRainFallLast4Years'),
                //"AnnualRainFallLast5Years": GetTextValue('AnnualRainFallLast5Years'),
                //"IssueChallageProblem": GetTextValue('IssueChallageProblem'),
                //"YesNoStakeId": GetRadioValue('YesNoStakeId'),
                //"DiscussWithStakeApplicantCmt": GetTextValue('DiscussWithStakeApplicantCmt'),
                //"DiscussWithStakeAuthorityCmt": GetTextValue('DiscussWithStakeAuthorityCmt'),
                //"DiscussWithStakePosFeedback": GetTextValue('DiscussWithStakePosFeedback'),
                //"DiscussWithStakeNegFeedback": GetTextValue('DiscussWithStakeNegFeedback'),
                //"DiscussWithStakeParticipntLst": , //file
                //"DiscussWithStakeMeetingMin": , //file
                //"AnalyzeOptYesNoId": GetRadioValue('AnalyzeOptYesNoId'),
                //"AnalyzeOptionsApplicantCmt": GetTextValue('AnalyzeOptionsApplicantCmt'),
                //"AnalyzeOptionsAuthorityCmt": GetTextValue('AnalyzeOptionsAuthorityCmt'),
                "EnvAndSocialYesNoId": GetRadioValue('EnvAndSocialYesNoId'),
                "EnvAndSocialApplicantCmt": GetTextValue('EnvAndSocialApplicantCmt')
            };

            var Project36IndvDetail = {
                "Project36IndvId": 0,
                "ProjectId": ProjectId,
                "ConnectivityAmidWaterland": GetTextValue('ConnectivityAmidWaterland'),
                "CatchmentArea": GetTextValue('CatchmentArea'),
                "HighestFloodLevel": GetTextValue('HighestFloodLevel'),
                "DrainageConditionId": GetRadioValue('DrainageConditionId'),
                "HighLandPercent": GetTextValue('HighLandPercent'),
                "MediumHighLandPercent": GetTextValue('MediumHighLandPercent'),
                "MediumLowLandPercent": GetTextValue('MediumLowLandPercent'),
                "LowLandPercent": GetTextValue('LowLandPercent'),
                "VeryLowLandPercent": GetTextValue('VeryLowLandPercent'),
                //"FishProduction": GetTextValue('FishProduction'),
                //"FishDiversity": GetTextValue('FishDiversity'),
                //"FishMigration": GetTextValue('FishMigration'),
                "LandUseMapYesNoId": GetRadioValue('LandUseMapYesNoId'),
                "LandUseMapApplicantComments": GetTextValue('LandUseMapApplicantComments'),
                //"LandUseMapAuthorityComments": GetTextValue('LandUseMapAuthorityComments'),
                "LandUseDesignYesNoId": GetRadioValue('LandUseDesignYesNoId'),
                "LandUseDesignApplicantComments": GetTextValue('LandUseDesignApplicantComments'),
                //"LandUseDesignAuthorityComments": GetTextValue('LandUseDesignAuthorityComments'),
                "ImpactFloodPlainAreaYesNoId": GetRadioValue('ImpactFloodPlainAreaYesNoId'),
                "ImpctFldPlnAraApplicntComments": GetTextValue('ImpctFldPlnAraApplicntComments'),
                //"ImpctFldPlnAraAuthortyComments": GetTextValue('ImpctFldPlnAraAuthortyComments'),
                "DuplicatYesNoId": GetRadioValue('DuplicatYesNoId'),
                "DuplicationApplicantComments": GetTextValue('DuplicationApplicantComments')
                //"DuplicationAuthorityComments": GetTextValue('DuplicationAuthorityComments')
            };

            var _Form36FinalObj = {
                "CommonDetail": ProjectCommonDetail,
                "Project36Indv": Project36IndvDetail,
                "HydroRegion": hydroRegions,
                "BDP2100HotSpot": bdp2100HotSpot
            }

            console.log(_Form36FinalObj);

            var url = '@Url.Action("f36tiotos", "form")';
            jQuery.ajax({
                type: "POST",
                url: url,
                data: { _form36TechInfo: _Form36FinalObj },
                dataType: "json",
                success: function (data, status, jqXHR) {
                    if (data.status == 'success') {
                        Notification('success', 'Success', data.message);
                    } else {
                        Notification('error', 'Saving Error', data.message);
                    }

                    SetHiddenValue('Project36IndvId', data.id);
                }, error: function (jqXHR, exception) {
                    var errorMsg = AjaxErrorHandle(jqXHR, exception);
                    Notification('error', 'Error Occured', errorMsg);
                }
            });
        });

        jQuery("#btnClearTechInfo").click(function () {
            Swal.fire({
                title: "Are you sure?",
                text: "All data will be cleared from Technical Information panel!",
                type: "warning",
                allowEscapeKey: false,
                allowOutsideClick: false,
                showCancelButton: !0,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Sure"
            }).then(function (t) {
                if (t.value == true) {
                    $('#frmTechnicalInfo').trigger("reset");
                }
            });
        });
        //end

        //start :: Final Submission
        jQuery("#btnFinalSubmit").click(function () {
            Swal.fire({
                title: "Are you sure?",
                text: "Your application will be submitted to higher authority for approval. \nYou can not edit or update anything after final submission.",
                type: "warning",
                allowEscapeKey: false,
                allowOutsideClick: false,
                showCancelButton: !0,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Yes, Submit"
            }).then(function (t) {
                if (t.value == true) {
                    var projectId = GetHiddenValue('ProjectId');

                    var url = '@Url.Action("wldp", "form")';
                    jQuery.ajax({
                        type: "POST",
                        url: url,
                        data: { id: projectId },
                        dataType: "json",
                        success: function (data, status, jqXHR) {
                            if (data.message != '') {
                                Notification(data.status, data.title, data.message);
                                Swal.fire(data.title, data.message, data.status);
                            }

                            //if (data.status == 'success') {
                            //    Notification('success', 'Success', data.message);
                            //    Swal.fire("Success", data.message, data.status);
                            //} else {
                            //    Notification('error', 'Deletion Error', data.message);
                            //    Swal.fire("Submission Error", data.message, "error");
                            //}
                        }, error: function (jqXHR, exception) {
                            var errorMsg = AjaxErrorHandle(jqXHR, exception);
                            Notification('error', 'Error Occured', errorMsg);
                            Swal.fire('Error Occured', errorMsg, 'error');
                        }
                    });
                }
            });
        });
        //end

        //region Get Set
        function ClearTextValue(control) {
            jQuery('#' + control).val('');
        }

        function GetTextValue(control) {
            return jQuery('#' + control).val();
        }

        function SetTextValue(control, val) {
            return jQuery('#' + control).val(val);
        }

        function GetHiddenValue(control) {
            return jQuery('#' + control).val();
        }

        function SetHiddenValue(control, val) {
            return jQuery('#' + control).val(val);
        }

        function GetDropdownValue(control) {
            return jQuery('#' + control + ' option:selected').val();
        }

        function SetDropdownValue(control, val) {
            return jQuery('#' + control).val(val);
            //return jQuery('#' + control).val(val).trigger('change');
        }

        function SetDropdownValueS2(control, val) {
            return jQuery('#' + control).val(val).trigger('change');
        }

        function GetRadioValue(control) {
            var value = $("input[name='" + control + "']:checked").val();
            return (value == undefined || value == '') ? 0 : value;
        }
        //endregion

        function BindData() {
            var projectId = '@ViewBag.ProjectCommonDetail.ProjectId';

            if (projectId != '' && projectId != 0) {
                console.log('Form 36 ViewBag.ProjectCommonDetail.ProjectId: ' + projectId);

                //General Info
                SetHiddenValue('ProjectId', projectId);
                SetHiddenValue('Project36IndvId', '@ViewBag.ProjectIndvDetail36.Project36IndvId');
                SetHiddenValue('UserId', '@ViewBag.ProjectCommonDetail.UserId');

                if('@ViewBag.ProjectCommonDetail.ProjectTypeId' != '' && '@Html.Raw(ViewBag.ProjectCommonDetail.ProjectTypeId)' != 0)
                    SetHiddenValue('ProjectTypeId', '@ViewBag.ProjectCommonDetail.ProjectTypeId');

                var pn = '@Html.Raw(ViewBag.ProjectCommonDetail.ProjectName)';
                SetTextValue('ProjectName', pn);
                SetDropdownValueS2('RespectiveAgency', '@Html.Raw(ViewBag.ProjectCommonDetail.RespectiveAgency)');
                SetDropdownValueS2('RespectiveMinistry', '@Html.Raw(ViewBag.ProjectCommonDetail.RespectiveMinistry)');
                SetDropdownValueS2('AnyInterventionOfOtherPrj', '@Html.Raw(ViewBag.ProjectCommonDetail.AnyInterventionOfOtherPrj)');
                SetTextValue('BackgroundAndRationale', '@Html.Raw(ViewBag.ProjectCommonDetail.BackgroundAndRationale)');
                SetTextValue('ProjectTarget', '@Html.Raw(ViewBag.ProjectCommonDetail.ProjectTarget)');
                SetTextValue('ProjectObjective', '@Html.Raw(ViewBag.ProjectCommonDetail.ProjectObjective)');
                SetTextValue('ProjectActivity', '@Html.Raw(ViewBag.ProjectCommonDetail.ProjectActivity)');

                SetTextValue('ProjectStartDate', '@Html.Raw(ViewBag.ProjectCommonDetail.ProjectStartDate)');
                SetTextValue('ProjectCompletionDate', '@Html.Raw(ViewBag.ProjectCommonDetail.ProjectCompletionDate)');

                /*
                var project_start_date = 'Html.Raw(ViewBag.ProjectCommonDetail.ProjectStartDate)';
                if (project_start_date != '') {
                    SetTextValue('ProjectStartDate', 'Html.Raw(ViewBag.ProjectCommonDetail.ProjectStartDate.ToString("dd/MM/yyyy"))');
                }

                var project_compl_date = 'Html.Raw(ViewBag.ProjectCommonDetail.ProjectCompletionDate)';
                if (project_compl_date != '') {
                    SetTextValue('ProjectCompletionDate', 'Html.Raw(ViewBag.ProjectCommonDetail.ProjectCompletionDate.ToString("dd/MM/yyyy"))');
                }
                */

                SetTextValue('ProjectEstimatedCost', '@Html.Raw(ViewBag.ProjectCommonDetail.ProjectEstimatedCost)');
                SetTextValue('ProjectOutcome', '@Html.Raw(ViewBag.ProjectCommonDetail.ProjectOutcome)');
                SetTextValue('ProjectOutput', '@Html.Raw(ViewBag.ProjectCommonDetail.ProjectOutput)');
                $('#spnKmlFileName').text('@Html.Raw(ViewBag.ProjectCommonDetail.ProjectBoundaryMap)');

                jQuery("#SelectedMapFile").attr('title', '@Html.Raw(ViewBag.ProjectCommonDetail.ProjectBoundaryMap)');
                jQuery('#SelectedMapFile').val('@Html.Raw(ViewBag.ProjectBoundaryMap)');

                //technology bind start
                var hrs = JSON.parse('@Html.Raw(Json.Serialize(ViewBag.HydroRegionDetail))');
                jQuery.each(hrs, function (i, item) {
                    $(":checkbox[name='hydrological_region'][value='" + item.hydroRegionId + "']").attr('checked', true);
                });

                var hsd = JSON.parse('@Html.Raw(Json.Serialize(ViewBag.BDP2100HotSpotDetail))');
                jQuery.each(hsd, function (i, item) {
                    $(":checkbox[name='bdp2100_hot_spot'][value='" + item.deltaPlanHotSpotId + "']").attr('checked', true);
                });

			    SetTextValue('ConnectivityAmidWaterland', '@Html.Raw(ViewBag.ProjectIndvDetail36.ConnectivityAmidWaterland)');
                SetTextValue('CatchmentArea', '@Html.Raw(ViewBag.ProjectIndvDetail36.CatchmentArea)');
				
			    var DrainageConditionId = '@Html.Raw(ViewBag.ProjectIndvDetail36.DrainageConditionId)';
			    if(DrainageConditionId != '')
				    $(":radio[name='DrainageConditionId'][value='" + DrainageConditionId + "']").attr('checked', true);

			    SetTextValue('HighLandPercent', '@Html.Raw(ViewBag.ProjectIndvDetail36.HighLandPercent)');
			    SetTextValue('MediumHighLandPercent', '@Html.Raw(ViewBag.ProjectIndvDetail36.MediumHighLandPercent)');
			    SetTextValue('MediumLowLandPercent', '@Html.Raw(ViewBag.ProjectIndvDetail36.MediumLowLandPercent)');
			    SetTextValue('LowLandPercent', '@Html.Raw(ViewBag.ProjectIndvDetail36.LowLandPercent)');
			    SetTextValue('VeryLowLandPercent', '@Html.Raw(ViewBag.ProjectIndvDetail36.VeryLowLandPercent)');

                var LandUseMapYesNoId = '@Html.Raw(ViewBag.ProjectIndvDetail36.LandUseMapYesNoId)';
			    if(LandUseMapYesNoId != '')
				    $(":radio[name='LandUseMapYesNoId'][value='" + LandUseMapYesNoId + "']").attr('checked', true);

                SetTextValue('LandUseMapApplicantComments', '@Html.Raw(ViewBag.ProjectIndvDetail36.LandUseMapApplicantComments)');
                
                var LandUseDesignYesNoId = '@Html.Raw(ViewBag.ProjectIndvDetail36.LandUseDesignYesNoId)';
			    if(LandUseDesignYesNoId != '')
				    $(":radio[name='LandUseDesignYesNoId'][value='" + LandUseDesignYesNoId + "']").attr('checked', true);

                SetTextValue('LandUseDesignApplicantComments', '@Html.Raw(ViewBag.ProjectIndvDetail36.LandUseDesignApplicantComments)');
                
				var ImpactFloodPlainAreaYesNoId = '@Html.Raw(ViewBag.ProjectIndvDetail36.ImpactFloodPlainAreaYesNoId)';
			    if(ImpactFloodPlainAreaYesNoId != '')
				    $(":radio[name='ImpactFloodPlainAreaYesNoId'][value='" + ImpactFloodPlainAreaYesNoId + "']").attr('checked', true);

				if (ImpactFloodPlainAreaYesNoId == 1) {
					jQuery("#divImpctFldPlnAraes").removeClass('d-none fadeOut');
					jQuery("#divImpctFldPlnAraes").addClass('d-block fadeIn');
				} else {
					jQuery("#divImpctFldPlnAraes").removeClass('d-block fadeIn');
					jQuery("#divImpctFldPlnAraes").addClass('d-none fadeOut');
				}

                SetTextValue('ImpctFldPlnAraApplicntComments', '@Html.Raw(ViewBag.ProjectIndvDetail36.ImpctFldPlnAraApplicntComments)');
                
			    var EnvAndSocialYesNoId = '@Html.Raw(ViewBag.ProjectCommonDetail.EnvAndSocialYesNoId)';
			    if(EnvAndSocialYesNoId != '')
				    $(":radio[name='EnvAndSocialYesNoId'][value='" + EnvAndSocialYesNoId + "']").attr('checked', true);

			    SetTextValue('EnvAndSocialApplicantCmt', '@Html.Raw(ViewBag.ProjectCommonDetail.EnvAndSocialApplicantCmt)');
                
                if (EnvAndSocialYesNoId == 1) {
                    jQuery("#divEIAYes, #divSIAYes").removeClass('d-none fadeOut');
                    jQuery("#divEIAYes, #divSIAYes").addClass('d-block fadeIn');
                } else {
                    jQuery("#divEIAYes, #divSIAYes").removeClass('d-block fadeIn');
                    jQuery("#divEIAYes, #divSIAYes").addClass('d-none fadeOut');
                }

                var eia_file = '@Html.Raw(ViewBag.ProjectCommonDetail.EnvAndSocialEiaFile)';
                if(eia_file != ''){
	                $("#EnvAndSocialEiaFileView").attr('href', '../images/CommonDetails/EiaFiles/' + eia_file).text(eia_file);
                } else {
	                $("#EnvAndSocialEiaFileView").attr('href', 'javascript:void(0);').text('No File');
                }

                var sia_file = '@Html.Raw(ViewBag.ProjectCommonDetail.EnvAndSocialSiaFile)';
                if(sia_file != ''){
	                $("#EnvAndSocialSiaFileView").attr('href', '../images/CommonDetails/SiaFiles/' + sia_file).text(sia_file);
                } else {
	                $("#EnvAndSocialSiaFileView").attr('href', 'javascript:void(0);').text('No File');
                }
            }
        }

        function Delete(id, projectId, modelName) {
            Swal.fire({
                title: "Are you sure?",
                text: "You won't be able to revert this",
                type: "warning",
                allowEscapeKey: false,
                allowOutsideClick: false,
                showCancelButton: !0,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Sure"
            }).then(function (t) {
                if (t.value == true) {
                    var url = '@Url.Action("cdm", "form")';
                    jQuery.ajax({
                        type: "POST",
                        url: url,
                        data: { id: id, projectId: projectId, modelName: modelName },
                        dataType: "json",
                        success: function (data, status, jqXHR) {
                            if (data.status == 'success') {
                                Notification('success', 'Success', data.message);
                                Swal.fire("Success", data.message, "success");
                            } else {
                                Notification('error', 'Deletion Error', data.message);
                                Swal.fire("Deletion Error", data.message, "error");
                            }
                        }, error: function (jqXHR, exception) {
                            var errorMsg = AjaxErrorHandle(jqXHR, exception);
                            Notification('error', 'Error Occured', errorMsg);
                        }
                    });
                }
            });
        }

        function UploadCommonFiles(inputid) {
	        var projectid = GetHiddenValue('ProjectId');
	        var input = document.getElementById(inputid);
	        var files = input.files;

	        var formData = new FormData();
	        formData.append("projectid", projectid);
	        formData.append("controltitle", inputid);
	        formData.append("file", files[0]);

            var url = '@Url.Action("ucdf", "form")';
	        $.ajax({
		        url: url,
		        data: formData,
		        processData: false,
		        contentType: false,
		        type: "POST",
		        success: function (data) {
			        if (data.message != '')
				        Swal.fire(data.title, data.message, data.status);
		        }, error: function (jqXHR, exception) {
			        var errorMsg = AjaxErrorHandle(jqXHR, exception);
			        Swal.fire('Error Occured', errorMsg, 'error');
		        }
	        });
        }

        function UploadCommonFiles(self, inputid) {
	        var projectid = GetHiddenValue('ProjectId');
	        var input = document.getElementById(inputid);
	        var files = input.files;

	        var formData = new FormData();
	        formData.append("projectid", projectid);
	        formData.append("controltitle", inputid);
	        formData.append("file", files[0]);

            var url = '@Url.Action("ucdf", "form")';
	        $.ajax({
		        url: url,
		        data: formData,
		        processData: false,
		        contentType: false,
		        type: "POST",
                success: function (data) {
                    if (data.status == 'success') {
                        console.log(data.data);
                        var file = data.data.split("###");
                        var file_loc = file[0];
                        var file_name = file[1];

                        $(self).closest(".input-group").find('a').attr('href', '../' + file_loc).text(file_name);
                        Swal.fire(data.title, data.message, data.status);
                    } else {
                        $(self).closest(".input-group").find('a').attr('href', 'javascript:void(0);').text('No File');
                        Swal.fire(data.title, data.message, data.status);
                    }
		        }, error: function (jqXHR, exception) {
			        var errorMsg = AjaxErrorHandle(jqXHR, exception);
			        Swal.fire('Error Occured', errorMsg, 'error');
		        }
	        });
        }

        function GoBack() {
            var title='', text = '', lang = '@HttpContextAccessor.HttpContext.Request.Cookies["FormLanguage"].ToString()';
            console.log(lang);
            if (lang == "1") {
                title = "আপনি কি নিশ্চিত?";
                text = "আপনার প্রদত্ত ডেটা সফলভাবে সংরক্ষণ করা হয়েছে কিনা তা নিশ্চিত করুন!";
            } else {
                title = "Are you sure?";
                text = "Please make sure the data you have provided that has been saved successfully!";
            }

            Swal.fire({
                title: title,
                text: text,
                type: "warning",
                allowEscapeKey: false,
                allowOutsideClick: false,
                showCancelButton: !0,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Sure"
            }).then(function (t) {
                if (t.value == true) {
                    var url = '@Url.Action("index", "form")';
                    window.location.href = url;
                }
            });
        }
    </script>
}